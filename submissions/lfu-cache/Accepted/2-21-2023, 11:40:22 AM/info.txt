{"id":901979711,"question_id":460,"lang":"java","lang_name":"Java","time":"1 year, 3 months","timestamp":1676950822,"status":10,"status_display":"Accepted","runtime":"83 ms","url":"/submissions/detail/901979711/","is_pending":"Not Pending","title":"LFU Cache","memory":"129.7 MB","code":"public class LFUCache {\n    HashMap<Integer, Integer> vals; // key, val\n    HashMap<Integer, Integer> counts; // key, freq\n    HashMap<Integer, LinkedHashSet<Integer>> lists; // freq, listSet<key>\n    int capacity;\n    int min = -1;\n    public LFUCache(int capacity) {\n        this.capacity = capacity;\n        vals = new HashMap<>();\n        counts = new HashMap<>();\n        lists = new HashMap<>();\n        lists.put(1, new LinkedHashSet<>());\n    }\n    \n    public int get(int key) {\n        if(!vals.containsKey(key))\n            return -1;\n        int count = counts.get(key);\n        counts.put(key, count+1); // update key->freq\n        \n        \n        lists.get(count).remove(key); // update freq List\n        if(count==min && lists.get(count).size()==0)//freq (1:<2>)  /-> (2:<2>)\n            min++;\n        lists.putIfAbsent(count+1, new LinkedHashSet<>());\n        lists.get(count+1).add(key);\n        return vals.get(key);\n    }\n    \n    public void put(int key, int value) {\n        \n        if(vals.containsKey(key)) { //existed key... no need remove\n            vals.put(key, value);\n            get(key);\n            return;\n        } \n        \n        \n        if(vals.size() >= capacity) { // remove before insert\n            for(int i:lists.get(min)){\n                lists.get(min).remove(i);\n                vals.remove(i);\n                break;\n            }\n        }\n        \n        //new key insert\n        vals.put(key, value);\n        counts.put(key, 1);\n        min = 1;\n        lists.get(1).add(key);  \n    }\n}","compare_result":"1111111111111111111111111","title_slug":"lfu-cache","has_notes":false,"flag_type":1}