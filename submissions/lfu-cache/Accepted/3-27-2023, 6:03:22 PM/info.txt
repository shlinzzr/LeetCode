{"id":922934497,"question_id":460,"lang":"java","lang_name":"Java","time":"1 year, 2 months","timestamp":1679911402,"status":10,"status_display":"Accepted","runtime":"85 ms","url":"/submissions/detail/922934497/","is_pending":"Not Pending","title":"LFU Cache","memory":"128.4 MB","code":"class LFUCache {\n    \n    HashMap<Integer, Integer> vals = new HashMap<>(); // key, val\n    HashMap<Integer, Integer> freq = new HashMap<>(); // key, freq\n    HashMap<Integer, LinkedHashSet<Integer>> lists; // freq, listSet<key1, key2 ...>\n    int capacity=0; \n    int min = -1;\n    \n    public LFUCache(int capacity) {\n        this.capacity = capacity;\n        min=0;\n        lists = new HashMap<>();\n        lists.put(1, new LinkedHashSet<>());\n    }\n    \n    public int get(int key) {\n        \n        if(!vals.containsKey(key)){\n            return -1;\n        }\n        \n        int cnt = freq.get(key);\n        freq.put(key, cnt+1);\n        \n        lists.get(cnt).remove(key);\n        if(cnt==min && lists.get(cnt).size()==0)\n            min++;\n        \n        lists.putIfAbsent(cnt+1, new LinkedHashSet<>());\n        lists.get(cnt+1).add(key);\n        \n        return vals.get(key);\n    }\n    \n    public void put(int key, int value) {\n        \n        if(vals.containsKey(key)){\n            vals.put(key, value);\n            get(key);\n            return;\n        }\n        \n        if(vals.size() >= capacity) { // remove\n            for(int i : lists.get(min)){\n                lists.get(min).remove(i);\n                vals.remove(i);\n                break;\n            }\n        }\n        \n        //new key insert\n        vals.put(key, value);\n        freq.put(key, 1);\n        min = 1;\n        lists.get(1).add(key);  \n        \n        \n    }\n}\n\n/**\n * Your LFUCache object will be instantiated and called as such:\n * LFUCache obj = new LFUCache(capacity);\n * int param_1 = obj.get(key);\n * obj.put(key,value);\n */","compare_result":"1111111111111111111111111","title_slug":"lfu-cache","has_notes":false,"flag_type":1}