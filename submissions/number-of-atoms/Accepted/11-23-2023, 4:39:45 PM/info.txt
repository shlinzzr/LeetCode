{"id":1104723673,"question_id":726,"lang":"java","lang_name":"Java","time":"6 months, 3 weeks","timestamp":1700728785,"status":10,"status_display":"Accepted","runtime":"3 ms","url":"/submissions/detail/1104723673/","is_pending":"Not Pending","title":"Number of Atoms","memory":"41 MB","code":"class Solution {\n    public String countOfAtoms(String f) {\n        Stack<Map<String,Integer>> st = new Stack<>();\n        Map<String, Integer> map = new HashMap<>();\n        int len = f.length();\n        int n = len;\n        for(int i=0; i<len; i++){\n            char ch = f.charAt(i);\n\n            if(ch=='('){\n                st.push(map);\n                map=new HashMap<>();\n\n            }else if(ch==')'){\n\n                // parsing the following number  & do multiply...\n                int num=0;\n                if(i+1<len && Character.isDigit(f.charAt(i+1))){\n                    num = (f.charAt(++i)-'0');\n                    while(i+1<len && Character.isDigit(f.charAt(i+1))){\n                        num = num*10+ (f.charAt(++i)-'0');\n                    }\n                }\n\n                if(num==0) num=1;\n\n                if(!st.isEmpty()){\n                    Map<String,Integer> temp = map;\n                    map=st.pop();\n                    for(String key: temp.keySet())\n                        map.put(key, map.getOrDefault(key,0)+temp.get(key)*num);\n                }\n\n            }else{ // parsing atom\n                int start=i;\n                i++;\n                while(i<len && Character.isLowerCase(f.charAt(i))){\n                    i++;\n                }\n                String atom = f.substring(start, i);\n\n                // parsing the following number  & do multiply...\n                int num=0;\n                while(i<len && Character.isDigit(f.charAt(i))){\n                    num = num*10+ (f.charAt(i++)-'0');\n                }\n                i--; // ** remember to fallback\n\n                if(num==0) num=1;\n               \n                map.put(atom, map.getOrDefault(atom ,0)+num);\n            }\n        }\n        StringBuilder sb= new StringBuilder();\n        List<String> list= new ArrayList<>(map.keySet());\n        Collections.sort(list);\n        for(String key: list){ \n            sb.append(key);\n            if(map.get(key)>1) \n                sb.append(map.get(key));\n        }\n        return sb.toString();\n        //  StringBuilder sb= new StringBuilder();\n        // List<String> list= new ArrayList<>(map.keySet());\n        // Collections.sort(list);\n        // for(String key: list){ \n        //     sb.append(key);\n        //   if(map.get(key)>1) sb.append(map.get(key));\n        //                             }\n        // return sb.toString();\n    }\n}","compare_result":"11111111111111111111111111111111","title_slug":"number-of-atoms","has_notes":false,"flag_type":1}