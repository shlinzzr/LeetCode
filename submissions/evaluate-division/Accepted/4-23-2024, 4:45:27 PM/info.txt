{"id":1239734539,"question_id":399,"lang":"java","lang_name":"Java","time":"1 month, 2 weeks","timestamp":1713861927,"status":10,"status_display":"Accepted","runtime":"4 ms","url":"/submissions/detail/1239734539/","is_pending":"Not Pending","title":"Evaluate Division","memory":"41.9 MB","code":"class Solution {\n    \n    \n    public double[] calcEquation(List<List<String>> equations, double[] vals, List<List<String>> queries) {\n        \n        int size = queries.size();\n        double[] res = new double[size];\n        \n        Map<String ,Map<String, Double>> map = new HashMap<>();\n        \n        for(int i=0; i<equations.size(); i++){\n            List<String> e = equations.get(i);\n            String a = e.get(0);\n            String b = e.get(1);\n            double v = vals[i];\n            \n            map.putIfAbsent(a, new HashMap<>());\n            map.get(a).put(b, v);\n            map.get(a).put(a, 1.0);\n            \n            map.putIfAbsent(b, new HashMap<>());\n            map.get(b).put(a, 1.0/v);\n            map.get(b).put(b, 1.0);\n            \n        }\n        \n        \n        Set<String> keys = map.keySet();\n        for(String ka : keys){\n            for(String kb : keys){\n                if(ka.equals(kb)) continue;\n                \n                for(String kc : keys){\n                    if(kc.equals(kb) || kc.equals(ka)) continue;\n                    if(map.get(ka).containsKey(kc)) continue;\n                    \n                    if(map.get(ka).containsKey(kb) && map.get(kb).containsKey(kc)){\n                      \n                        double va = map.get(ka).get(kb);\n                        double vb = map.get(kb).get(kc);\n                          // System.out.println(ka+ \" \" + kb + \" \" + kc + \" va=\"+va+ \" vb=\"+vb);\n                        map.get(ka).put(kc, va*vb);\n                        map.get(kc).put(ka, 1.0/(vb*va));\n                    }\n                }\n            }\n        }\n        \n        for(int i=0; i<size; i++){\n            List<String> q = queries.get(i);\n            String a = q.get(0);\n            String b = q.get(1);\n            // res[i] = !map.containsKey(a) || !map.get(a).containsKey(b) ? -1 : (map.get(a).get(b)>0 ? map.get(a).get(b) : 1.0/map.get(b).get(a) );\n            \n            res[i] = !map.containsKey(a) || !map.get(a).containsKey(b) ? -1 : map.get(a).get(b);\n        }\n        \n        return res;\n        \n        \n    }\n}","compare_result":"1111111111111111111111111111","title_slug":"evaluate-division","has_notes":false,"flag_type":1}