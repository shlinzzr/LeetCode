{"id":1251367711,"question_id":1017,"lang":"java","lang_name":"Java","time":"1 month, 1 week","timestamp":1715050048,"status":10,"status_display":"Accepted","runtime":"85 ms","url":"/submissions/detail/1251367711/","is_pending":"Not Pending","title":"Odd Even Jump","memory":"47.1 MB","code":"class Solution {\n    public int oddEvenJumps(int[] arr) {\n        \n        // [5,1,3,4,2] \n        // 每次跳可以先選擇odd jump 或 even jump, odd跳完要換even, even跳完要換odd\n        // odd jump  : arr[i] <= arr[j]\n        // even jump : arr[i] >= arr[j]\n        \n        //推導: 1. 一定從最後一個element出發 (要找有幾個起點可走回終點)\n        //      2. 因為是比大小 找值ceiling or floor 所以先想到treeMap\n        //      3. 要判斷能不能走回終點, 用兩個boolean array來記錄\n        \n        \n        int len = arr.length;\n        boolean[] higher = new boolean[len];\n        boolean[] lower = new boolean[len];\n        \n        higher[len-1]=true;\n        lower[len-1]=true;\n        int res =1;\n        \n        TreeMap<Integer, Integer> map = new TreeMap<>();\n        \n        map.put(arr[len-1], len-1); // val, idx => (2, 4)\n\n        for(int i=len-2; i>=0; i--){ // len-1 已經是答案了 從len-2 (4) 開始\n            int val = arr[i];\n            Integer hi = map.ceilingKey(val);\n            if(hi!=null)\n                lower[i] = higher[map.get(hi)];\n            \n            Integer lo = map.floorKey(val);\n            if (lo != null) \n                higher[i] = lower[map.get(lo)]; \n            \n            // 表示當我在len-2的地方。用lower[len-2](even jump)可以找到 val=2 which idx==len-1 is end\n            // 之後有任何任higher跳完之後來找lower 若找到我表示這個src也到的了終點\n            \n            /*       i    len-1\n            higher        true\n                    val\n            lower         true\n            */\n\n            // odd: arr[i]<=arr[j]\n            // even : arr[i]>=arr[j]\n\n            if(lower[i]) //每個idx出發的 \"odd\" even jump 從找大開始 所以只看lower\n                res++;\n            \n            map.put(arr[i], i);\n        }\n        \n        return res;\n    }\n}","compare_result":"11111111111111111111111111111111111111111111111111111111111111111","title_slug":"odd-even-jump","has_notes":false,"flag_type":1}