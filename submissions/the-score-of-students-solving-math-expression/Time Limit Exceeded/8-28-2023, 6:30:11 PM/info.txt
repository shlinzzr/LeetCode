{"id":1033973253,"question_id":2147,"lang":"java","lang_name":"Java","time":"9 months, 2 weeks","timestamp":1693218611,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1033973253/","is_pending":"Not Pending","title":"The Score of Students Solving Math Expression","memory":"N/A","code":"class Solution {\n    public int scoreOfStudents(String s, int[] answers) {\n        \n        int len = s.length();\n        \n        // prepare input\n        List<String> input = new ArrayList<>();\n        int sum = 0;\n        for(int i=0; i<len; i++){\n            char ch = s.charAt(i);\n            if(Character.isDigit(ch)){\n                sum=sum*10 + (ch-'0');\n            }else{\n                input.add(\"\"+sum);\n                sum=0;\n                input.add(ch+\"\");\n            }\n        }\n        input.add(\"\"+sum);\n        \n        \n        int correct=0;\n        \n        List<String> vals = new ArrayList<>(input);\n        for(int i=0; i<vals.size(); i+=2){\n            \n            int cur = Integer.valueOf(vals.get(i));\n            \n            while(i+1<vals.size() && \"*\".equals(vals.get(i+1))){\n                cur = cur* Integer.valueOf(vals.get(i+2));\n                i+=2;\n            }\n            \n            correct+=cur;\n        }\n        System.out.println(correct);\n        \n        \n        \n        \n        List<Integer> list = new ArrayList<>();\n        \n        dfs(input, list);\n        \n        HashSet<Integer> set = new HashSet<>(list);\n        set.remove(correct);\n        \n        \n        \n        int res = 0;\n        \n        for(int a: answers){\n            if(a==correct)\n                res+=5;\n                \n            else if(set.contains(a))\n                res+=2;\n        }\n        \n        return res;\n        \n        \n        \n    }\n    \n    \n    private void dfs(List<String> input, List<Integer> res){\n        \n        if(input.size()==1){\n            res.add(Integer.valueOf(input.get(0)));\n            return;\n        }\n        \n        for(int i=0; i<input.size(); i+=2){\n            \n            for(int j=i+2; j<input.size(); j+=2){\n                List<String> tmp = new ArrayList<>();\n                boolean done = false;\n                \n                // System.out.println(\"i=\"+i +\" j=\"+j);\n                \n                for(int k=0; k<input.size(); k++){\n                    \n                    // (\"k=\"+k+ \" v=\"+input.get(k) + \" tmp=\"+tmp);\n                    \n                    if(k>=i && k<=j) {\n                        if(done)\n                            continue;\n                        \n                        int val = cal(input, i, j);\n                        tmp.add(\"\"+val);\n                        done=true;\n                        \n                    }else\n                        tmp.add(input.get(k));\n                }\n                \n                \n                dfs(tmp, res);\n            }\n        }\n    }\n    \n    private int cal(List<String> in, int st, int ed){\n        \n        int res = Integer.valueOf(in.get(st));\n        \n        for(int i=st+1; i<ed; i+=2){\n            \n            String op = in.get(i);\n            int val = Integer.valueOf(in.get(i+1));\n            \n            if(\"+\".equals(op)){\n                res += val;\n            }else if(\"-\".equals(op)){\n                res -= val;\n            }else{\n                res *=val;\n            }\n        }\n        \n           // System.out.println(\"res=\"+res);\n        return res;\n        \n        \n    }\n    \n}","compare_result":"1111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"the-score-of-students-solving-math-expression","has_notes":false,"flag_type":1}