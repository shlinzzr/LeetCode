{"id":1280469105,"question_id":2147,"lang":"java","lang_name":"Java","time":"5 days, 15 hours","timestamp":1717758159,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1280469105/","is_pending":"Not Pending","title":"The Score of Students Solving Math Expression","memory":"N/A","code":"class Solution {\n    public int scoreOfStudents(String s, int[] ans) {\n        // wrong order : 2 pts\n        // correct : 5 pts\n        // others : 0 pts\n\n        // LC 241  : can get all the wrong order with correct ans\n        // others : don't care\n        // what is correct ans ? => basic Calculator ? \n\n        int correct = basicCalculator(s);\n        Set<Integer> wo = LCTFO(s, new HashMap<>());\n\n        int sum = 0 ;\n        for(int a : ans){\n            if(a==correct) sum+=5;\n            else if(wo.contains(a)) sum+=2;\n        }\n\n        return sum;\n\n\n\n\n\n    }\n\n    private Set<Integer> LCTFO(String s, Map<String, Set<Integer>> memo) { //leetcode two-four-one\n\n        if(memo.containsKey(s)) return memo.get(s);\n\n        Set<Integer> res = new HashSet<>();\n        int len = s.length();\n\n        for(int i=0; i<len; i++){\n            char ch = s.charAt(i);\n            if(Character.isDigit(ch)) continue;\n\n            Set<Integer> lista = LCTFO(s.substring(0, i), memo);\n            Set<Integer> listb = LCTFO(s.substring(i+1, len), memo);\n            for(int a : lista){\n                for(int b : listb){\n                    if(ch=='+') res.add(a+b);\n                    else res.add(a*b);\n                }\n            }\n        }\n\n        if(res.isEmpty()) res.add(Integer.parseInt(s));\n        memo.put(s, res);\n        return res;\n    }\n\n    \n\n\n    private int basicCalculator(String s){\n        \n        int lv1=0, lv2=1;\n\n        int len = s.length();\n        for(int i=0; i<len; i++){\n            char ch = s.charAt(i);\n            if(Character.isDigit(ch)){\n                int num = ch-'0';\n                while(i+1<len && Character.isDigit(s.charAt(i+1))){\n                    num = num*10 + s.charAt(i+1)-'0';\n                    i++;\n                }\n                lv2 *= num;\n            }else if(ch=='+'){\n                lv1 += lv2;\n                lv2=1;\n            }else if(ch=='*'){\n                // do nothing\n            }\n        }\n\n        return lv1 + lv2;\n    }\n}","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"the-score-of-students-solving-math-expression","has_notes":false,"flag_type":1}