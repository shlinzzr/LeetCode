{"id":1129322801,"question_id":2905,"lang":"java","lang_name":"Java","time":"5 months, 2 weeks","timestamp":1703645815,"status":10,"status_display":"Accepted","runtime":"389 ms","url":"/submissions/detail/1129322801/","is_pending":"Not Pending","title":"Count Paths That Can Form a Palindrome in a Tree","memory":"94.7 MB","code":"class Solution {\n    List<int[]>[] adj;\n    Map<Integer, Integer> map = new HashMap<>();\n    long  res = 0L;\n\n    public long countPalindromePaths(List<Integer> parent, String s) {\n\n        int n = parent.size();\n        adj = new ArrayList[n];\n        for (int i = 0; i < n; ++i) {\n            adj[i] = new ArrayList<>();\n        }\n\n        for(int i=1; i<n; i++){\n            adj[parent.get(i)].add(new int[]{i, s.charAt(i)-'a'});\n        }\n\n        int state = 0 ;\n        dfs(0, -1 ,state);\n\n        return res;\n    }\n\n    private void dfs(int cur, int parent, int state){\n        if(map.containsKey(state)){\n            res+= map.get(state);\n        }\n\n        for(int i=0; i<26; i++){\n            int s = state ^ (1<<i);\n            if(map.containsKey(s)){\n                res += map.get(s);\n            }\n        }\n\n        map.put(state, map.getOrDefault(state,0)+1);\n\n        for(int[] r : adj[cur]){\n            if(r[0]==parent) continue;\n            dfs(r[0], cur, state^(1<<(r[1])));\n        }\n    }\n\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-paths-that-can-form-a-palindrome-in-a-tree","has_notes":false,"flag_type":1}