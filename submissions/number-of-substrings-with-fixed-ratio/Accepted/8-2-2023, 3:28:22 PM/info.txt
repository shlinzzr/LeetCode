{"id":1010062218,"question_id":2629,"lang":"java","lang_name":"Java","time":"10 months, 2 weeks","timestamp":1690961302,"status":10,"status_display":"Accepted","runtime":"169 ms","url":"/submissions/detail/1010062218/","is_pending":"Not Pending","title":"Number of Substrings With Fixed Ratio","memory":"65.1 MB","code":"class Solution {\n    public long fixedRatio(String s, int num1, int num2) {\n        int len = s.length();\n        // 0 : num1, 1 : num2\n        \n//         HashMap<Integer, Integer> omap = new HashMap<>();\n//         HashMap<Integer, Integer> zmap = new HashMap<>();\n        \n//         int po = 0;\n//         int pz = 0;\n        \n//         for(int i=0; i<len; i++){\n//             char ch = s.charAt(i);\n//             if(ch=='0'){\n//                 po++;\n//             }else{\n//                 pz++;\n//             }\n            \n//             if(po%num1==0 && pz%num2==0 && po/num1==pz/num2){\n                \n//             }\n            \n//         }\n        \n        HashMap<String, Integer> map = new HashMap<>();\n        map.put(\"0_0\", 1); // x:0~num1-1, y:0~num2-1\n        \n        long zero = 0, one = 0;\n        long ret = 0;\n        for (char ch: s.toCharArray()){\n            if (ch=='0') \n                zero++;\n            else \n                one++;\n\n            //出现了k次“num1个0 + num2个1\"，其中k=min(a/num1,b/num2)\n            long k = Math.min(zero/num1, one/num2);\n            \n            //假设presum长度L里面有zero个0与one个1\n            //去除这些完整的循环，剩下的零头的0与1，就代表了“余数”。\n            long x = zero-k*num1, y = one-k*num2;\n\n            String key = x + \"_\" + y;\n            \n            if(map.containsKey(key))\n                ret += map.get(key);\n\n            map.put(key, map.getOrDefault(key, 0)+1);\n        }\n        \n        return ret;\n        \n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-substrings-with-fixed-ratio","has_notes":false,"flag_type":1}