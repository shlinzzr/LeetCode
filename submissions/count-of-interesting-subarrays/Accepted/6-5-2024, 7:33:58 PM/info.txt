{"id":1278400954,"question_id":2915,"lang":"java","lang_name":"Java","time":"1 week","timestamp":1717587238,"status":10,"status_display":"Accepted","runtime":"53 ms","url":"/submissions/detail/1278400954/","is_pending":"Not Pending","title":"Count of Interesting Subarrays","memory":"56.6 MB","code":"class Solution {\n\n    //      l     r\n    // x x [a x b x] x x x \n    //      |   |\n    //      v   v\n    //    a, b % M ==k , cnt=2 , at the same time cnt%M=k\n    \n\n    // the first thing : \n    // nums turns into nums%M\n    //      l     r\n    // 0 0 [1 0 1 0] 0 1 1\n\n    //\n    // the second : agg @ cntMap // Map : m:0~m-1, cnt\n\n\n    public long countInterestingSubarrays(List<Integer> nums, int modulo, int k) {\n        // [ x x x x x x ]\n        //     l     r\n        //     i          cnt : 有幾個nums[i]%modulo==k , 同時 cnt%modulo===k\n\n        int len = nums.size();\n        int[] arr = new int[nums.size()];\n        for(int i=0; i<nums.size(); i++){\n            arr[i] = (nums.get(i)%modulo==k ? 1 : 0);\n        }\n\n        Map<Long, Long> map = new HashMap<>(); // state , cnt\n        map.put(0L, 1L);\n        long state = 0;\n        long ans = 0;\n        for(int i=0; i<len;i++){\n\n            int a = arr[i];\n            state = (state+a)%modulo;\n            \n            long key = (state-k + modulo)%modulo;\n\n            if(map.containsKey(key)){\n                ans += map.get(key);\n            }\n\n            map.put(state, map.getOrDefault(state,0L)+1);\n\n\n        }\n\n        return ans;\n\n\n\n     }\n}","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"count-of-interesting-subarrays","has_notes":false,"flag_type":1}