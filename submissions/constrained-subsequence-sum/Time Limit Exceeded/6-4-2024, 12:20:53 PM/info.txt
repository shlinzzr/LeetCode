{"id":1277024341,"question_id":1286,"lang":"java","lang_name":"Java","time":"1 week, 1 day","timestamp":1717474853,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1277024341/","is_pending":"Not Pending","title":"Constrained Subsequence Sum","memory":"N/A","code":"class Solution {\n    public int constrainedSubsetSum(int[] nums, int k) {\n        // 題目 找max sum of subseq 其中每個相鄰element j-i<=k\n        // 想法1  : dp ? => O(NK) 會超時\n\n        int len = nums.length;\n        int[] dp = new int[len+1]; //  the maximum sum of a non-empty subsequence of that array  ending with nums[i-1];\n        Arrays.fill(dp, Integer.MIN_VALUE/2);\n        dp[1] = nums[0];\n        for(int j=2; j<=len; j++){\n            dp[j] = Math.max(dp[j], nums[j-1]);\n            for(int i=j-1; j-i<=k && i>0; i--){\n                dp[j] = Math.max(dp[j], dp[i]+nums[j-1]);\n            }\n        }\n\n        int res = Integer.MIN_VALUE;\n        for(int i=1; i<=len; i++){\n            res = Math.max(res, dp[i]);\n        }\n\n        return res;\n\n\n\n\n\n\n        // // 想法2 : sliding window maximum (lc239), monostack O(N) :\n        // int len = nums.length;\n        // Deque<int[]> dq = new ArrayDeque<>(); // idx, total\n        // //[10,2,-10,5,20], k = 2\n\n        // int res = Integer.MIN_VALUE;\n\n        // for(int i=0; i<len; i++){\n            \n        //     // if dq not empty: previous total + nums\n        //     int total = nums[i] + (!dq.isEmpty() ?  dq.peek()[1] : 0); \n        //     res = Math.max(res, total);\n            \n        //     // remove all the smaller answer\n        //     while(!dq.isEmpty() && total > dq.peekLast()[1]){\n        //         dq.pollLast();\n        //     }\n\n        //     // remove the out of date idx\n        //     while(!dq.isEmpty() && i-dq.peek()[0]>=k){\n        //         dq.poll();\n        //     }\n\n        //     if(total>0)\n        //         dq.offer(new int[]{i, total});\n        // }\n\n        // return res;\n    }\n}","compare_result":"1111111111111111111100000000000000000000","title_slug":"constrained-subsequence-sum","has_notes":false,"flag_type":1}