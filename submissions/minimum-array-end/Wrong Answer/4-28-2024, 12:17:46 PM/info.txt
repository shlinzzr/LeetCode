{"id":1243844401,"question_id":3394,"lang":"java","lang_name":"Java","time":"1 month, 2 weeks","timestamp":1714277866,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1243844401/","is_pending":"Not Pending","title":"Minimum Array End","memory":"N/A","code":"class Solution {\n    public long minEnd(int n, int x) {\n        \n        if(n==1) return x;\n        // 8421\n        \n        // x = 5\n        // 3 : 0011 => x\n        \n        \n        \n        // 4 : 0100\n        \n//         0100\n//         0101\n        \n//         0110\n//         0111\n            \n        \n            \n        \n        // 5 : 0101\n        // 6 : 0110\n        // 7 : 0111\n        // 8 : 1000 => x\n        \n        \n        String golden = Integer.toBinaryString(x);\n        String g = new StringBuilder(golden).reverse().toString();\n        \n        Set<Integer> onepos = new HashSet<>();\n        for(int i=0; i<g.length(); i++){\n            if(g.charAt(i)=='1') onepos.add(i);\n        }\n        \n        // System.out.println(onepos);\n        \n        int cnt =1;\n        \n        StringBuilder curr = new StringBuilder(g); //001\n        \n        \n        // System.out.println(\"a=\"+curr.toString());\n         // 4 : 0100 rev => 0010\n        \n        \n        int idx= 0 ;\n        while(cnt<n){ // 1<3, 2<3\n            \n            if(cnt*2<n){ // 1*2<3\n                if(!onepos.contains(idx)){\n                    cnt *=2; // 1010, 0010\n                }else\n                    cnt++;\n                \n                \n                if(idx<curr.length())\n                    curr.setCharAt(idx, '1'); //101\n                else \n                    curr.append('1');\n                idx++;\n                \n            }else{ //add one by one\n                \n                curr = addOne(curr, onepos); //101\n                cnt++;\n                \n            }\n        }\n        // System.out.println(\"out=\"+curr.toString()); // 011\n        \n        curr = curr.reverse();\n        \n        long res = 0L;\n        \n        for(int i=0; i<curr.length(); i++){\n            \n            if(curr.charAt(i)=='1'){\n                res = (res<<1) | 1;\n            }else\n                res = (res<<1);\n            \n            \n        }\n        \n        return res;\n        \n        \n        \n        \n    }\n    \n    \n    private StringBuilder addOne(StringBuilder curr, Set<Integer> onepos){\n        \n        // System.out.println(  \"addOne \" + curr.toString());\n        \n        // 1010\n        StringBuilder sb = new StringBuilder();\n        int carry = 1;\n        \n        for(int i=0; i<curr.length(); i++){\n            \n            if(onepos.contains(i)){\n                sb.append('1'); //011\n                \n            }else{\n                \n                char ch = curr.charAt(i);\n                int d = ch-'0'; \n                int v = d + carry; \n\n                sb.append(v%2); // 01\n                carry = v/2; //1, 0\n                \n            }\n            // System.out.println(i + \" \" + sb.toString());\n        }\n        \n        if(carry==1){\n            sb.append(1);\n        }\n        \n        curr = new StringBuilder(sb); // 0110\n        return sb;\n        \n        \n        \n    }\n}","compare_result":"111111101110110101110001101000111010001101010001110001000110100010001110100000001101010000000111000100000001101000100000001110100010000000110101000100000001110001000100000001101000100010000000111010000000100000001101010000000100000001110001000000010000000110100010000000100000001110100010000000000000001010100010000000000000011000100010000000000000010001000100000000000001000000010000000000000100000001000000000001000000010000000000100000001000000000100000001000000001000000010000001000000010000010000000100000100000001000100000001000100000001000100000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"minimum-array-end","has_notes":false,"flag_type":1}