{"id":1273781710,"question_id":227,"lang":"java","lang_name":"Java","time":"1 week, 4 days","timestamp":1717212308,"status":10,"status_display":"Accepted","runtime":"12 ms","url":"/submissions/detail/1273781710/","is_pending":"Not Pending","title":"Basic Calculator II","memory":"44.8 MB","code":"class Solution {\n    public int calculate(String s) {\n\n        char op1 = '+', op2='*';\n\n\n        int len = s.length();\n        Stack<Character> cst = new Stack<>();\n        Stack<Integer> ist = new Stack<>();\n        long cur1 = 0, cur2=1;\n\n        for(int i=0; i<len; i++){\n            char ch = s.charAt(i);\n            if(ch==' ') continue;\n\n            if(Character.isDigit(ch)){\n                int num = ch-'0';\n                while(i+1<len && Character.isDigit(s.charAt(i+1))){\n                    num = num*10 + (s.charAt(i+1)-'0');\n                    i++;\n                }\n\n                if(op2=='*'){\n                    cur2 *= num;\n                }else \n                    cur2/=num;\n\n            }else if(ch=='+' || ch=='-'){\n\n                if(op1=='+'){\n                    cur1+=cur2;\n                }else\n                    cur1-=cur2;\n\n                cur2=1;\n                op2='*';\n\n                op1 = ch;\n\n            }else if(ch=='*' || ch=='/'){\n                op2 = ch;\n\n            }else if(ch=='('){\n\n                int j=i;\n                for(int lv=0; j<len; j++){\n                    if(s.charAt('j')=='(') lv++;\n                    if(s.charAt('j')==')') lv--;\n                    if(lv==0) break;\n                }\n\n                String sub = s.substring(i+1, j);\n                int rt = calculate(sub);\n\n                if(op2=='*'){\n                    cur2 *= rt;\n                }else{\n                    cur2 /= rt;\n                }\n            }\n            // }else if(ch==')'){\n            //     op = cst.pop();\n            //     if(op=='+'){\n            //         cur = ist.pop() + cur;\n            //     }else{\n            //         cur = ist.pop()-cur;\n            //     }\n            // }\n\n        }\n\n        if(op1=='+'){\n            cur1 += cur2;\n        }else{\n            cur1 -= cur2;\n        }\n\n        return (int)cur1;\n \n        \n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"basic-calculator-ii","has_notes":false,"flag_type":1}