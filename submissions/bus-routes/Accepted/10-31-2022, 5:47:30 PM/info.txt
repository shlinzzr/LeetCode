{"id":833914612,"question_id":833,"lang":"java","lang_name":"Java","time":"1 year, 7 months","timestamp":1667209650,"status":10,"status_display":"Accepted","runtime":"67 ms","url":"/submissions/detail/833914612/","is_pending":"Not Pending","title":"Bus Routes","memory":"88.1 MB","code":"class Solution {\n    public int numBusesToDestination(int[][] routes, int source, int target) {\n        if(source==target){\n            return 0;\n        }\n        \n        Map<Integer, List<Integer>> stopToBusMap=new HashMap<>();\n        for(int i=0;i<routes.length;i++){\n            for(int stop: routes[i]){\n                List<Integer> buses=stopToBusMap.computeIfAbsent(stop, t->new ArrayList<>());\n                buses.add(i);\n            }\n            \n        }\n        \n        if(!stopToBusMap.containsKey(source) || !stopToBusMap.containsKey(target)){\n            return -1;\n        }\n        \n        boolean[] visited=new boolean[routes.length];\n        Queue<Integer> q=new LinkedList<>();\n        int busCount=1;\n        \n        for(int boardingBus: stopToBusMap.get(source)){\n            q.offer(boardingBus);\n            visited[boardingBus]=true;\n        }\n        \n        while(!q.isEmpty()){\n            \n            for(int x=q.size()-1;x>=0;x--){\n                int currBus=q.poll();\n                \n                for(int stop: routes[currBus]){\n                    if(!stopToBusMap.containsKey(stop)){\n                        continue;\n                    }\n                    if(stop==target){\n                        return busCount;\n                    }\n                    for(int boardingBus: stopToBusMap.get(stop)){\n                        if(!visited[boardingBus]){\n                            visited[boardingBus]=true;\n                            q.offer(boardingBus);\n                        }\n                    }\n                    \n                }\n            }\n            \n            busCount++;\n        }\n        return -1;\n        \n    }\n}","compare_result":"111111111111111111111111111111111111111111111","title_slug":"bus-routes","has_notes":false,"flag_type":1}