{"id":988357130,"question_id":2626,"lang":"java","lang_name":"Java","time":"11 months, 1 week","timestamp":1688711262,"status":10,"status_display":"Accepted","runtime":"104 ms","url":"/submissions/detail/988357130/","is_pending":"Not Pending","title":"Count the Number of Good Subarrays","memory":"57.9 MB","code":"class Solution {\n    public long countGood(int[] nums, int k) {\n        // Arrays.sort(nums);\n        int len = nums.length;\n        long res =0;\n        \n        HashMap<Integer, Long> map = new HashMap<>();\n        \n        long pairs = 0;\n        int ed=0;\n        for(int st=0; st<len ; st++){\n            \n            while(ed<len && pairs<k){\n                pairs += diff(map, nums[ed], 1);\n                map.put(nums[ed], map.getOrDefault(nums[ed], 0L)+1);\n                ed++;\n            }\n            \n            if(pairs>=k){\n                res += len-ed+1;   // (len-1)-(ed-1)+1 == len-ed+1\n            }\n            \n    //  [ X  X  X ] X  X  X\n    //    i    j-1  j   len-1\n    //          ^         ^\n            \n            \n            pairs += diff(map, nums[st], -1);\n            map.put(nums[st], map.getOrDefault(nums[st], 0L)-1);\n        }\n        return res;        \n        \n    }\n    \n    private long diff(HashMap<Integer, Long> map, int num, int d){\n        \n        long cnt = map.getOrDefault(num,0L);\n        long old_pair = cnt*(cnt-1)/2;\n        cnt+=d;\n        long new_pair = cnt*(cnt-1)/2;\n        \n        return new_pair-old_pair;\n        \n        \n        \n        \n    }\n}","compare_result":"11111111111111111111111111111111111111111","title_slug":"count-the-number-of-good-subarrays","has_notes":false,"flag_type":1}