{"id":1265395927,"question_id":2718,"lang":"java","lang_name":"Java","time":"2 weeks, 6 days","timestamp":1716435504,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1265395927/","is_pending":"Not Pending","title":"Minimum Operations to Make All Array Elements Equal","memory":"N/A","code":"class Solution {\n    public List<Long> minOperations(int[] nums, int[] queries) {\n        int m = queries.length;\n        Arrays.sort(nums);\n\n        int len = nums.length;\n\n        int[] presum = new int[len];\n        int[] sufsum = new int[len];\n        for(int i=0; i<len; i++){\n            presum[i] = i==0? nums[i] : nums[i]+presum[i-1];\n            int idx = len-i-1;\n            sufsum[idx] = idx==len-1 ? nums[idx] : nums[idx]+sufsum[idx+1];\n        }\n\n\n        List<Long> res = new ArrayList<>();\n        for(int i=0; i<m; i++){\n            int q = queries[i];\n            int idx = bs(nums, q);\n            System.out.println(idx);\n\n        //  2   3  6  9 \n        //        \n        //p 2   5 11 20\n        //s 20 18 15  9\n            \n\n            //  System.out.println(q*(idx+1)- presum[idx]);\n            //      System.out.println(sufsum[idx]-(q*(len-idx)));\n\n\n            res.add( (long)q*(idx+1)- presum[idx] + (long)sufsum[idx]-(q*(len-idx)) + Math.abs(q-nums[idx]));\n        }\n\n        return res;\n\n        \n    }\n\n    private int bs(int[] nums, int q){\n\n        int len = nums.length;\n\n        int st=0, ed=len-1;\n\n        while(st<ed){\n            int mid = st+(ed-st)/2;\n\n            if(nums[mid]==q) return mid;\n            else if(nums[mid]<q){\n                st = mid+1;\n            }else \n                ed = mid-1;\n        }\n\n        if(st+1<len && st-1>=0){\n\n            int a = Math.abs(nums[st-1]-q);\n            int b = Math.abs(nums[st]-q);\n            int c = Math.abs(nums[st+1]-1);\n\n            if(a<=b && a<=c) return st-1;\n            if(b<=a && b<=c) return st;\n            if(c<=a && c<=b) return st+1;\n\n            return st;\n        }\n\n\n        if(st+1<len){\n\n            int b = Math.abs(nums[st]-q);\n            int c = Math.abs(nums[st+1]-1);\n            if(b<=c) return st;\n            return st+1;\n        }\n\n        if(st-1<len){\n            int a = Math.abs(nums[st-1]-q);\n            int b = Math.abs(nums[st]-q);\n\n            if(a<b) return st-1;\n            return st;\n        }\n\n        return st;\n\n\n    }\n    \n}","compare_result":"1100001001110000000000000000000","title_slug":"minimum-operations-to-make-all-array-elements-equal","has_notes":false,"flag_type":1}