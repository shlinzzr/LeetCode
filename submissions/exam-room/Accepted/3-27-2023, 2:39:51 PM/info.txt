{"id":922850364,"question_id":885,"lang":"java","lang_name":"Java","time":"1 year, 2 months","timestamp":1679899191,"status":10,"status_display":"Accepted","runtime":"15 ms","url":"/submissions/detail/922850364/","is_pending":"Not Pending","title":"Exam Room","memory":"44.6 MB","code":"class ExamRoom {\n    PriorityQueue<int[]> pq;\n    int N;\n    \n    private int intervalToDist(int[] interval) {\n        int dist = 0;\n        if (interval[0] == -1) {\n            dist = interval[1];\n        } else if (interval[1] == N) {\n            dist = N - 1 - interval[0];\n        } else {\n            dist = (interval[1] - interval[0]) / 2;\n        }\n        return dist;\n    }\n    \n    public ExamRoom(int N) {\n        this.N = N;\n        pq = new PriorityQueue<>((a, b) -> {\n            int distA = intervalToDist(a);\n            int distB = intervalToDist(b);\n            if (distA != distB) {\n                return distB - distA;\n            } else {\n                return a[0] - b[0];\n            }\n        });\n        pq.add(new int[]{-1, N});\n    }\n    \n    public int seat() {\n        int result = 0;\n        int[] interval = pq.poll();\n        if (interval[0] == -1) {\n            result = 0;\n        } else if (interval[1] == N) {\n            result = N - 1 ;\n        } else {\n            result = interval[0] + (interval[1] - interval[0]) / 2;\n        }\n        pq.add(new int[]{interval[0], result});\n        pq.add(new int[]{result, interval[1]}); \n        return result;\n    }\n    \n    public void leave(int p) {\n        int[] leftInterval = null;\n        int[] rightInterval = null;\n        for (int[] interval : pq) {\n            if (interval[1] == p) {\n                leftInterval = interval;\n            }\n            if (interval[0] == p) {\n                rightInterval = interval;\n            }\n        }\n        pq.remove(leftInterval);\n        pq.remove(rightInterval);\n        pq.add(new int[]{leftInterval[0], rightInterval[1]});\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"exam-room","has_notes":false,"flag_type":1}