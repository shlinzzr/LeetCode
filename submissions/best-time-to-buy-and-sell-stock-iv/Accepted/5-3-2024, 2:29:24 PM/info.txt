{"id":1248017904,"question_id":188,"lang":"java","lang_name":"Java","time":"1 month, 1 week","timestamp":1714717764,"status":10,"status_display":"Accepted","runtime":"2 ms","url":"/submissions/detail/1248017904/","is_pending":"Not Pending","title":"Best Time to Buy and Sell Stock IV","memory":"42.8 MB","code":"class Solution {\n    public int maxProfit(int k, int[] prices) {\n        int len = prices.length;\n\n        int[][] dp = new int[len+1][2*k+1];\n        for(int i=0; i<=len; i++){\n            Arrays.fill(dp[i], Integer.MIN_VALUE/2);\n        }\n\n        \n        dp[1][0] = 0; // 沒買過股票的profit==0\n        dp[1][1] = -prices[0]; // 第一天買股票的profit== -price\n\n        for(int i=2;i<=len; i++){ //從第二天開始遞推\n            dp[i][0] = 0; // 沒買過股票的profit==0\n            for(int a=1; a<=2*k; a++){\n                \n                if(a%2==1) // a%2==1:有買股票\n                    dp[i][a] = Math.max(dp[i-1][a], dp[i-1][a-1]-prices[i-1]);\n                else //  a%2==0 賣掉了\n                    dp[i][a] = Math.max(dp[i-1][a], dp[i-1][a-1]+prices[i-1]);\n            }\n        }\n\n        int max= 0 ;\n        for(int a=1;a<=2*k; a++){\n            max = Math.max(max, dp[len][a]);\n        }\n\n        return max;\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"best-time-to-buy-and-sell-stock-iv","has_notes":false,"flag_type":1}