{"id":1114036649,"question_id":2751,"lang":"java","lang_name":"Java","time":"6 months, 1 week","timestamp":1701918398,"status":10,"status_display":"Accepted","runtime":"180 ms","url":"/submissions/detail/1114036649/","is_pending":"Not Pending","title":"Sliding Subarray Beauty","memory":"60.2 MB","code":"class Solution {\n    public int[] getSubarrayBeauty(int[] nums, int k, int x) {\n        int len = nums.length;\n\n        int[] res = new int[len-k+1];\n\n        // PriorityQueue<Integer> pq = new PriorityQueue<>();\n        int cnt1=0, cnt2=0;\n        TreeMap<Integer, Integer> map1 = new TreeMap<>();\n        TreeMap<Integer, Integer> map2 = new TreeMap<>();\n\n        int st =0;\n        for(int ed=0; ed<len; ed++){\n\n            if(cnt1<x){\n                map1.put(nums[ed], map1.getOrDefault(nums[ed], 0)+1);\n                cnt1++;\n            }else{\n\n                if(nums[ed] > map1.lastKey()){\n                    map2.put(nums[ed], map2.getOrDefault(nums[ed], 0)+1);\n                    cnt2++;\n                }else{\n                    map1.put(nums[ed], map1.getOrDefault(nums[ed], 0)+1);\n                    cnt1++;\n\n\n                    // move map1.last. to map2\n                    int last = map1.get(map1.lastKey());\n\n                    if(cnt1-last>=x){\n                        map2.put(map1.lastKey(), last);\n                        cnt2+=last;\n                        map1.remove(map1.lastKey());\n                        cnt1-=last;\n                    }\n\n                }\n\n            }\n\n            \n            if(ed<k-1) continue;\n\n\n//               System.out.println(\"map1.size\"+ cnt1);\n//             for(int a : map1.keySet()){\n//               System.out.print( a + \" :\" + map1.get(a) + \", \");\n//             }\n//             System.out.println();\n\n// System.out.println(\"map2.size\"+ cnt2);\n//             for(int a : map2.keySet()){\n//               System.out.print( a + \" :\" + map2.get(a) + \", \");\n//             }\n//             System.out.println();\n//             System.out.println();\n\n\n//              System.out.println(\" map1.lastKey()=\"+ map1.lastKey());\n            if(map1.lastKey()<0)\n                res[st] = map1.lastKey();\n\n\n            if(nums[st]>map1.lastKey()){\n                map2.put(nums[st], map2.getOrDefault(nums[st],0)-1);    \n                if(map2.get(nums[st])<=0)\n                    map2.remove(nums[st]);\n                cnt2--;\n            }else{\n                map1.put(nums[st], map1.getOrDefault(nums[st],0)-1);    \n                cnt1--;\n                if(map1.get(nums[st])<=0)\n                    map1.remove(nums[st]);\n\n                if(cnt1<x && cnt2>0){\n                     int first =  map2.get(map2.firstKey());\n                     map1.put(map2.firstKey(), first);\n                     cnt1 += first;\n                     cnt2 -= first;\n                     map2.remove(map2.firstKey());\n                }\n            }\n\n            st++;\n          \n        \n        \n\n        }\n\n        return res;\n\n    }\n\n\n    private int getXthValue(TreeMap<Integer, Integer> map, int x){\n\n        int cnt = 0;\n        for(int k : map.keySet()){\n            if(k<0){\n                cnt += map.get(k);\n                if(cnt>=x)\n                    return k;\n\n            }else{\n                return 0;\n            }\n        }\n\n        return 0;\n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"sliding-subarray-beauty","has_notes":false,"flag_type":1}