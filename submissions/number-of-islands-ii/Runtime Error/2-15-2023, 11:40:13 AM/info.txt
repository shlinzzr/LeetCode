{"id":898221589,"question_id":305,"lang":"java","lang_name":"Java","time":"1 year, 3 months","timestamp":1676432413,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/898221589/","is_pending":"Not Pending","title":"Number of Islands II","memory":"N/A","code":"class Solution {\n    public List<Integer> numIslands2(int m, int n, int[][] positions) {\n        List<Integer> res = new ArrayList<>();\n        \n        Map<Integer, Set<Integer>> map= new HashMap<>();\n        \n        \n        int land = 0;\n        int mark =1;\n        int[][] grid = new int[m][n];\n        \n        int[][] dirs = new int[][]{{0,1}, {1,0}, {0,-1}, {-1, 0}};        \n        for(int[] p : positions){\n            \n            Set<Integer> set = new HashSet<>();\n            for(int[] d : dirs){\n                \n                int r = p[0]+d[0];\n                int c = p[1]+d[1];\n                \n                if(r<0 || r>=m || c<0 || c>=n)\n                    continue;\n                \n                if(grid[r][c]!=0){\n                    set.add(grid[r][c]);\n                }\n            }\n            \n            if(set.size()==0){\n                land++;\n                grid[p[0]][p[1]]=land;\n                \n            }else if(set.size()==1){\n                int adj = set.iterator().next();\n                grid[p[0]][p[1]]=adj;\n                \n            }else if(set.size()>1){\n                \n                int minus = set.size()-1;\n                List<Integer> list = new ArrayList<>(set);\n                int intersec =0, min=0;\n                for(int i=0; i<list.size()-1; i++){\n                    for(int j=i+1; j<list.size(); j++){\n                        if(map.get(list.get(i)).contains(list.get(j))){\n                            minus--;\n                            min = Math.min(min, list.get(i));\n                        }else{\n                            map.get(list.get(i)).add(list.get(j));\n                        }\n                    }\n                }\n                \n                land+=minus;                                \n            }\n            \n            \n                \n            \n            res.add(land);\n        }\n        \n        \n        return res;\n        \n        \n    }\n}","compare_result":"111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"number-of-islands-ii","has_notes":false,"flag_type":1}