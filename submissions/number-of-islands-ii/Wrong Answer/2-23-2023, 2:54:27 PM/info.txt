{"id":903365797,"question_id":305,"lang":"java","lang_name":"Java","time":"1 year, 3 months","timestamp":1677135267,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/903365797/","is_pending":"Not Pending","title":"Number of Islands II","memory":"N/A","code":"class Solution {\n    int[][] dirs = {{0, 1}, {1, 0}, {-1, 0}, {0, -1}};\n    \n   public List<Integer> numIslands2(int m, int n, int[][] positions) {\n    List<Integer> result = new ArrayList<>();\n    if(m <= 0 || n <= 0) return result;\n\n    int count = 0;                      // number of islands\n    int[] roots = new int[m * n];       // one island = one tree\n    Arrays.fill(roots, -1);            \n\n    for(int[] p : positions) {\n        int root = n * p[0] + p[1];     // assume new point is isolated island\n        roots[root] = root;             // add new island\n        count++;\n\n        for(int[] dir : dirs) {\n            int x = p[0] + dir[0]; \n            int y = p[1] + dir[1];\n            int nb = n * x + y;\n            if(x < 0 || x >= m || y < 0 || y >= n || roots[nb] == -1) continue;\n            \n            int rootNb = findIsland(roots, nb);\n            if(root != rootNb) {        // if neighbor is in another island\n                roots[root] = rootNb;   // union two islands \n                root = rootNb;          // current tree root = joined tree root\n                count--;               \n            }\n        }\n\n        result.add(count);\n    }\n    return result;\n}\n\npublic int findIsland(int[] roots, int id) {\n    while(id != roots[id]) id = roots[id];\n    return id;\n}\n\n    public int find(int[] roots, int id) {\n        \n        if(roots[id]==id)\n            return id;\n        \n        roots[id] = find(roots, roots[id]);\n        return roots[id];\n    }\n}","compare_result":"111111111111110110111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-islands-ii","has_notes":false,"flag_type":1}