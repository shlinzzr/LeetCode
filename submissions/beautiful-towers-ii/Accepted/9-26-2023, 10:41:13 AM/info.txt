{"id":1059290335,"question_id":3113,"lang":"java","lang_name":"Java","time":"8 months, 3 weeks","timestamp":1695696073,"status":10,"status_display":"Accepted","runtime":"89 ms","url":"/submissions/detail/1059290335/","is_pending":"Not Pending","title":"Beautiful Towers II","memory":"68.3 MB","code":"class Solution {\n    public long maximumSumOfHeights(List<Integer> H) {\n        int len = H.size();\n\n        long[] left = new long[len];\n        Stack<Integer> st = new Stack<>();\n        st.push(-1);\n        \n        \n        long res = 0, cur = 0;\n        for (int i = 0; i < len; i++) {\n            while (st.size() > 1 && H.get(i) < H.get(st.peek())) {\n                int p1 = st.pop();\n                int p2 = st.peek();\n                cur -= 1L * (p1-p2)* H.get(p1);\n            }\n            cur += 1L * (i - st.peek()) * H.get(i);\n            st.push(i);\n            left[i] = cur;\n        }\n\n        st.clear();\n        \n        long[] right = new long[len];\n        st.push(len);\n        cur = 0;\n        for (int i = len-1; i>=0; i--) {\n            while (st.size() > 1 && H.get(i) < H.get(st.peek())) {\n                int p1 = st.pop();\n                int p2 = st.peek();\n                cur -= 1L * (p2-p1) * H.get(p1);\n            }\n            cur += 1L * (st.peek()-i) * H.get(i);\n            st.push(i);\n            \n            right[i] = cur;\n            // res = Math.max(res, left[i] + cur - H.get(i));\n        }\n        \n        for(int i=0; i<len; i++){\n            res = Math.max(res, left[i]+right[i]-H.get(i));\n        }\n\n        return res;\n    }\n    \n}","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"beautiful-towers-ii","has_notes":false,"flag_type":1}