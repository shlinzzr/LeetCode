{"id":1011709140,"question_id":363,"lang":"java","lang_name":"Java","time":"10 months, 1 week","timestamp":1691120640,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1011709140/","is_pending":"Not Pending","title":"Max Sum of Rectangle No Larger Than K","memory":"N/A","code":"class Solution {\n    public int maxSumSubmatrix(int[][] matrix, int k) {\n        int h = matrix.length;\n        int w = matrix[0].length;\n        \n        if(h==0)\n            return 0;\n        \n        if (h>w){\n            int[][] mat = new int[w][h];\n            for (int i=0; i<h; i++)\n                for (int j=0; j<w; j++)\n                    mat[j][i]=matrix[i][j];\n            return maxSumSubmatrix(mat, k);\n        }\n        \n        \n        \n        int result = Integer.MIN_VALUE;\n        \n        for (int i=0; i<h; i++)        \n        {\n            int[] row = new int[w];\n            \n            for (int r=i; r<h; r++)\n            {\n                for (int j=0; j<w; j++)\n                    row[r]+=matrix[r][j];\n                result = Math.max(result,helper(row, r));\n            }\n        }        \n        return result;\n    }\n    \n    \n    private int helper(int[] row, int k){\n        \n        TreeSet<Integer> set = new TreeSet<>();\n        set.add(0);\n        \n        int presum = 0;\n        int result = Integer.MIN_VALUE;;\n        \n        for (int i=0; i<row.length; i++)\n        {\n            presum+=row[i];\n            \n            Integer val = set.floor(presum-k);\n            if (val!=null) \n                result = Math.max(result,presum-val);\n            set.add(presum);\n        }\n        return result;\n        \n    }\n}","compare_result":"110000001000000000000000000000000000","title_slug":"max-sum-of-rectangle-no-larger-than-k","has_notes":false,"flag_type":1}