{"id":922791906,"question_id":1728,"lang":"java","lang_name":"Java","time":"1 year, 2 months","timestamp":1679891391,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/922791906/","is_pending":"Not Pending","title":"Fancy Sequence","memory":"N/A","code":"class Fancy {\n\n    private long fastPow(long a, long b, long m){\n        long ans = 1;\n        while(b>0){\n            if(b % 2 == 1)\n                ans = (ans * a)%m;;\n            \n            a =  (a*a)%m;\n            b >>= 1;\n        }\n        return ans;\n    }\n    \n    \n    // private int quickPow(int x, int y) \n    // {\n    //     int ret = 1;\n    //     int cur = x;\n    //     while (y>0) \n    //     {\n    //         if (y&1>0) \n    //         {\n    //             ret = (long)ret * cur % M;\n    //         }\n    //         cur = (long)cur * cur % M;\n    //         y >>= 1;\n    //     }\n    //     return ret;\n    // }\n    \n    private long inv(int x) \n    {\n        return fastPow(x, M - 2, M);\n    }\n    \n    \n    ArrayList<Integer> list = new ArrayList<>();\n    \n    int mul;\n    int add;\n    long M = (int) 1e9+7;\n    \n    \n    public Fancy() {\n        list = new ArrayList<>();\n        mul=1;\n        add=0;\n    }\n    \n    public void append(int val) {\n        val = (int) ((val-add+M)%M);\n        val = (int) ((val*inv(mul))%M);\n        list.add(val);\n    }\n    \n    public void addAll(int inc) {\n        \n        add=(int) ((add+inc)%M);\n    }\n    \n    public void multAll(int m) {\n        mul=(int)((mul*m)%M);\n        add=(int)((add*m)%M);\n    }\n    \n    public int getIndex(int idx) {\n        if(idx>=list.size())\n            return -1;\n        else \n            return (int)(list.get(idx) * mul %M) +add;\n    }\n}\n\n/**\n * Your Fancy object will be instantiated and called as such:\n * Fancy obj = new Fancy();\n * obj.append(val);\n * obj.addAll(inc);\n * obj.multAll(m);\n * int param_4 = obj.getIndex(idx);\n */","compare_result":"11111011111111000000000000000010000000010100000000000000000000000000000000000000000000000000000000000000000","title_slug":"fancy-sequence","has_notes":false,"flag_type":1}