{"id":1014450644,"question_id":220,"lang":"java","lang_name":"Java","time":"10 months, 1 week","timestamp":1691391352,"status":10,"status_display":"Accepted","runtime":"84 ms","url":"/submissions/detail/1014450644/","is_pending":"Not Pending","title":"Contains Duplicate III","memory":"55.3 MB","code":"class Solution {\n    \n//      public boolean containsNearbyAlmostDuplicate(int[] nums, int indexDiff, int valueDiff) {\n//         if (nums == null || nums.length == 0 || indexDiff <= 0) {\n//             return false;\n//         }\n//         TreeSet<Integer> set = new TreeSet<>();\n//         int st =0;\n         \n//         for (int ed = 0; ed < nums.length; ed++) {\n\n//             final Integer floor = set.floor(nums[ed] + valueDiff);\n//             final Integer ceil = set.ceiling(nums[ed] - valueDiff);\n//             if ((floor != null && floor >= nums[ed]) || (ceil != null && ceil <= nums[ed])) {\n//                 return true;\n//             }\n\n//             set.add(nums[ed]);\n//             if (ed-st==indexDiff) {\n//                 set.remove(nums[st++]);\n//             }\n//         }\n\n//         return false;\n//      }\n    \n    \n    \n    public boolean containsNearbyAlmostDuplicate(int[] nums, int indexDiff, int valueDiff) {\n        if (nums == null || nums.length == 0 || indexDiff <= 0) {\n            return false;\n        }\n        \n        int len = nums.length;\n        \n        TreeMap<Integer, Integer> map = new TreeMap<>();\n        \n        int st =0;\n        for(int ed=0; ed<len;ed++){\n            Integer floor = map.floorKey(nums[ed]+valueDiff);\n            Integer ceiling = map.ceilingKey(nums[ed]-valueDiff);\n            \n            \n            if( (floor!=null && floor>=nums[ed] )|| (ceiling!=null && ceiling<=nums[ed]))\n                return true;\n            \n            map.put(nums[ed], map.getOrDefault(nums[ed],0)+1);\n            \n            \n            if(ed-st==indexDiff){\n                map.put(nums[st], map.get(nums[st])-1);\n                \n                if(map.get(nums[st])==0) \n                   map.remove(nums[st]);\n                   \n                st++;\n            }\n        }\n                   \n                   return false;\n    }\n}","compare_result":"1111111111111111111111111111111111111111111111111","title_slug":"contains-duplicate-iii","has_notes":false,"flag_type":1}