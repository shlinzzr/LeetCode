{"id":1035860040,"question_id":716,"lang":"java","lang_name":"Java","time":"9 months, 2 weeks","timestamp":1693390775,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1035860040/","is_pending":"Not Pending","title":"Max Stack","memory":"N/A","code":"class MaxStack {\n\n    LinkedList<Node> list;\n    Node head;\n    HashMap<Integer, LinkedHashSet<Node>> map; // val, List<node>\n    \n    class Node{\n        Integer val;\n        Node next;\n        Node prev;\n        int max;\n        public Node(Integer val, int max){\n            this.val = val;\n            this.max = max;\n        }\n    }\n    \n    \n    \n    public MaxStack() {\n        map = new HashMap<>();\n        head = new Node(null, Integer.MIN_VALUE);\n    }\n    \n    public void push(int x) {\n        \n        Node node = new Node(x, Math.max(head.max, x));\n        map.putIfAbsent(x, new LinkedHashSet<>());\n        map.get(x).add(node);\n        \n        node.next = head;\n        head.prev = node;\n        head = node;\n    }\n    \n    public int pop() {\n        \n        int val = head.val;\n        map.get(val).remove(head);\n        \n        head = head.next;\n        head.prev = null;\n        return val;\n    }\n    \n    public int top() {\n        return head.val;\n    }\n    \n    public int peekMax() {\n        return head.max;\n    }\n    \n    public int popMax() {\n        int res = head.max;\n        Node node = map.get(head.max).iterator().next();\n        map.get(head.max).remove(node);\n        \n        \n        if(node.val==head.val){\n            head=head.next;\n            if(head!=null)\n                head.prev=null;\n        }else{\n            Node prev = node.prev;\n            Node next = node.next;\n            prev.next = next;\n            next.prev = prev;\n        }\n        \n        return res;\n        \n    }\n}\n\n\n// 5 1 5\n// top 5 \n// popmax  :  5\n// top\n\n\n/**\n * Your MaxStack object will be instantiated and called as such:\n * MaxStack obj = new MaxStack();\n * obj.push(x);\n * int param_2 = obj.pop();\n * int param_3 = obj.top();\n * int param_4 = obj.peekMax();\n * int param_5 = obj.popMax();\n */","compare_result":"1111110111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"max-stack","has_notes":false,"flag_type":1}