{"id":1094313979,"question_id":787,"lang":"java","lang_name":"Java","time":"7 months, 1 week","timestamp":1699435135,"status":10,"status_display":"Accepted","runtime":"14 ms","url":"/submissions/detail/1094313979/","is_pending":"Not Pending","title":"Sliding Puzzle","memory":"43.4 MB","code":"class Solution {\n\n    //1. 直接dirs 定義0可以換的next;\n    //2. zero = s.indexOf('0');\n\n    public int slidingPuzzle(int[][] board) {\n        String target = \"123450\";\n        String start = \"\";\n        for (int i = 0; i < board.length; i++) {\n            for (int j = 0; j < board[0].length; j++) {\n                start += board[i][j];\n            }\n        }\n        HashSet<String> visited = new HashSet<>();\n        // all the positions 0 can be swapped to\n        int[][] dirs = new int[][] { { 1, 3 }, { 0, 2, 4 },\n                { 1, 5 }, { 0, 4 }, { 1, 3, 5 }, { 2, 4 } };\n        Queue<String> queue = new LinkedList<>();\n        queue.offer(start);\n        visited.add(start);\n        int res = 0;\n        while (!queue.isEmpty()) {\n            // level count, has to use size control here, otherwise not needed\n            int size = queue.size();\n            for (int i = 0; i < size; i++) {\n                String cur = queue.poll();\n                if (cur.equals(target)) {\n                    return res;\n                }\n                int zero = cur.indexOf('0');\n                // swap if possible\n                for (int dir : dirs[zero]) {\n                    String next = swap(cur, zero, dir);\n                    if (visited.contains(next)) {\n                        continue;\n                    }\n                    visited.add(next);\n                    queue.offer(next);\n\n                }\n            }\n            res++;\n        }\n        return -1;\n    }\n\n    private String swap(String str, int i, int j) {\n        StringBuilder sb = new StringBuilder(str);\n        sb.setCharAt(i, str.charAt(j));\n        sb.setCharAt(j, str.charAt(i));\n        return sb.toString();\n    }\n}","compare_result":"11111111111111111111111111111111","title_slug":"sliding-puzzle","has_notes":false,"flag_type":1}