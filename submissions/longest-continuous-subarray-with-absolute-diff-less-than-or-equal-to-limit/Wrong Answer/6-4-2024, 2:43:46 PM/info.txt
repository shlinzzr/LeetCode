{"id":1277147529,"question_id":1549,"lang":"java","lang_name":"Java","time":"1 week, 1 day","timestamp":1717483426,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1277147529/","is_pending":"Not Pending","title":"Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit","memory":"N/A","code":"class Solution {\n    public int longestSubarray(int[] nums, int limit) {\n        \n        //2. 找最大值跟最小值 直接想到mono stack (deque) O(N)\n        int len = nums.length;\n        Deque<Integer> dq_max = new ArrayDeque<>(); // idx => asc\n        Deque<Integer> dq_min = new ArrayDeque<>(); // idx\n        int st = 0, ed=0;\n\n        for(; ed<len; ed++){\n            int n = nums[ed];\n\n            while(!dq_max.isEmpty() && nums[dq_max.peekLast()]<n){\n                dq_max.pollLast();\n            }\n\n            while(!dq_min.isEmpty() && nums[dq_min.peekLast()]>n){\n                dq_min.pollLast();\n            }\n            \n            dq_min.offer(ed);\n            dq_max.offer(ed);\n\n            //超過limit的話, 把min or max拉出來\n            //看st 是在那一個 dq內\n            while(nums[dq_max.peek()] - nums[dq_min.peek()]>limit){\n                if(nums[st] == nums[dq_max.peek()]) dq_max.poll();\n                if(nums[st] == nums[dq_min.peek()]) dq_min.poll();\n                st++;\n            }\n\n        }\n\n        return ed-st;\n\n\n\n        \n\n        // //1. 找最大值跟最小值 : sliding window + treemap O(NlgN)\n        // int len = nums.length;\n        // TreeMap<Integer, Integer> map = new TreeMap<>(); // val, cnt\n        \n        // int st = 0, ed;\n        // for (ed = 0; ed < len; ed++) {\n        //     map.put(nums[ed], 1 + map.getOrDefault(nums[ed], 0));\n\n        //     if (map.lastKey() - map.firstKey() > limit) {\n        //         map.put(nums[st], map.get(nums[st]) - 1);\n        //         if (map.get(nums[st]) == 0)\n        //             map.remove(nums[st]);\n        //         st++;\n        //     }\n        // }\n        // return ed-st;\n\n\n        \n    }\n}","compare_result":"1101110101111011110111111100100010001000000000000000000010011","title_slug":"longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit","has_notes":false,"flag_type":1}