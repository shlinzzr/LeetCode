{"id":1134292877,"question_id":2848,"lang":"java","lang_name":"Java","time":"5 months, 1 week","timestamp":1704170915,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1134292877/","is_pending":"Not Pending","title":"Special Permutations","memory":"N/A","code":"class Solution {\n\n    int M = (int) 1e9+7;\n\n    public int specialPerm(int[] nums) {\n        int len = nums.length;\n\n        \n        long[] dp = new long[1<<len];\n        // Arrays.fill(dp, -1L);\n        long rt = dfs(nums, 0, new ArrayList<>(), 0, dp);\n\n        return (int) (rt%M);\n    }\n\n    private long dfs(int[] nums, int cnt,List<Integer> list, int state, long[]dp){\n\n        // System.out.println(\"dfs cnt=\"+cnt +  \" state=\"+state + \" list=\"+list);\n        if(cnt>=nums.length) return 1;\n\n\n       \n        // if(dp[state]!=0) {\n        //      System.out.println(\"dp[state]=\"+ dp[state]);\n        //      return dp[state];\n        // }\n        long res = 0;\n        for(int j=0; j<nums.length; j++){\n            if((state & (1<<j))==0 && (list.isEmpty() || list.get(list.size()-1)%nums[j]==0 || nums[j]%list.get(list.size()-1)==0)){\n                int newState = state | (1<<j);\n                list.add(nums[j]);\n                // System.out.println(\"cnt=\"+cnt + \" j=\"+j + \" state=\" + state + \" newState=\"+newState);\n                res = (res + dfs(nums, cnt+1, list, newState, dp)%M)%M;\n                list.remove(list.size()-1);\n            }\n        }\n\n        dp[state] = res%M;\n        return res%M;\n    }\n\n}","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000","title_slug":"special-permutations","has_notes":false,"flag_type":1}