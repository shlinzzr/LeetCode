{"id":1272320097,"question_id":1553,"lang":"java","lang_name":"Java","time":"1 week, 6 days","timestamp":1717069777,"status":10,"status_display":"Accepted","runtime":"4 ms","url":"/submissions/detail/1272320097/","is_pending":"Not Pending","title":"Count Triplets That Can Form Two Arrays of Equal XOR","memory":"41.5 MB","code":"class Solution {\n    public int countTriplets(int[] arr) {\n        \n        // ref huifeng O(n) https://www.youtube.com/watch?v=DwvNIVLcT8U\n        int len = arr.length;\n        \n        int[] prexor = new int[len];\n        \n        HashMap<Integer, List<Integer>> map = new HashMap<>(); // val, List<idx>\n        map.put(0, new ArrayList<>());\n        map.get(0).add(-1);\n        \n        int xorsum = 0;\n        int ret = 0;\n        for (int k=0; k<arr.length; k++)\n        {\n            xorsum ^= arr[k];\n            for (int i: map.getOrDefault(xorsum, new ArrayList<>()))\n                ret+=k-i-1;\n            //\n            // XX X [ X X X X X X ][X X X X]  XXX\n            //    i                 j     k\n\n            // 總共j的可能性 k-i 個但必須去掉首位 因為i<j, 所以要-1\n            \n            \n            \n            map.putIfAbsent(xorsum, new ArrayList<>());\n            map.get(xorsum).add(k);\n        }\n        return ret;\n        \n    // 自己硬幹的 : O(n^2)\n// // XXX   [ X X X X X X ][X X X X]  XXX\n//       // a=i^  ...^ j-1, j ... k\n        \n//         // find arr where xor ==0;\n        \n//         int len = arr.length;\n        \n//         int res = 0;\n        \n//         for(int i=0; i<len; i++){\n            \n//             int xor = arr[i];\n            \n//             for(int k=i+1; k<len; k++){\n                \n//                 xor ^= arr[k];\n//                 if(xor==0){\n//                     res+= (k-i);// 總共有(k-i+1)個element, 切成多份且每份不為0個element有幾種切法？ => (k-i)種\n//                 }\n//             }\n//         }\n        \n//         return res;\n        \n        \n    }\n}","compare_result":"11111111111111111111111111111111111111111111111","title_slug":"count-triplets-that-can-form-two-arrays-of-equal-xor","has_notes":false,"flag_type":1}