{"id":853300659,"question_id":1905,"lang":"java","lang_name":"Java","time":"1 year, 6 months","timestamp":1669969010,"status":10,"status_display":"Accepted","runtime":"144 ms","url":"/submissions/detail/853300659/","is_pending":"Not Pending","title":"Design Authentication Manager","memory":"63 MB","code":"class AuthenticationManager {\n\n    int timeToLive;\n    static HashMap<String, Integer> map; // tokenid, currTime\n    \n    \n    public AuthenticationManager(int timeToLive) {\n        this.timeToLive = timeToLive;\n        this.map = new  HashMap<String, Integer>();\n    }\n    \n    public void generate(String tokenId, int currentTime) {\n        map.put(tokenId, currentTime);\n    }\n    \n    public void renew(String tokenId, int currentTime) {\n        \n        if(map.containsKey(tokenId)){\n            int lastTime = map.get(tokenId);\n            if(currentTime-lastTime<timeToLive){\n                map.put(tokenId, currentTime);\n            }else{\n                map.remove(tokenId);\n            }    \n        }\n        \n        \n        \n    }\n    \n    public int countUnexpiredTokens(int currentTime) {\n        \n        Set<String> set = new HashSet<>();\n        \n        for(Map.Entry<String, Integer> en : map.entrySet()){\n            if(currentTime - en.getValue() >= timeToLive ){\n               set.add(en.getKey());\n            }\n        }\n        for(String s : set){\n            map.remove(s);\n        }\n        \n        \n        \n        return map.size();\n    }\n}\n\n/**\n * Your AuthenticationManager object will be instantiated and called as such:\n * AuthenticationManager obj = new AuthenticationManager(timeToLive);\n * obj.generate(tokenId,currentTime);\n * obj.renew(tokenId,currentTime);\n * int param_3 = obj.countUnexpiredTokens(currentTime);\n */","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"design-authentication-manager","has_notes":false,"flag_type":1}