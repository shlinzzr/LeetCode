{"id":1023693885,"question_id":1905,"lang":"java","lang_name":"Java","time":"10Â months","timestamp":1692253930,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1023693885/","is_pending":"Not Pending","title":"Design Authentication Manager","memory":"N/A","code":"class AuthenticationManager {\n    \n    int timeToLive;\n    HashMap<String, TreeSet<Integer>> map;\n    \n    public AuthenticationManager(int timeToLive) {\n        this.timeToLive = timeToLive;\n        map = new HashMap<>();\n    }\n    \n    public void generate(String tokenId, int currentTime) {\n        \n        map.putIfAbsent(tokenId, new TreeSet<>());\n        map.get(tokenId).add(currentTime);\n    }\n    \n    public void renew(String tokenId, int currentTime) {\n         \n        if(!map.containsKey(tokenId))\n            return ;\n        \n        Integer last = map.get(tokenId).floor(currentTime);\n        if(currentTime-last<=timeToLive)\n            map.get(tokenId).add(currentTime);\n        \n    }\n    // aaa, 2  bbb,10\n    //\n    \n    \n    \n    public int countUnexpiredTokens(int currentTime) {\n\n        \n        \n        int cnt =0 ;\n        for(String k : map.keySet()){\n            TreeSet<Integer> set = map.get(k);\n            \n            // System.out.println(k + \" \" + set);\n            \n            if(currentTime - set.last()<timeToLive){\n                cnt++;\n            }\n        }\n        \n        return cnt;\n    }\n}\n\n/**\n * Your AuthenticationManager object will be instantiated and called as such:\n * AuthenticationManager obj = new AuthenticationManager(timeToLive);\n * obj.generate(tokenId,currentTime);\n * obj.renew(tokenId,currentTime);\n * int param_3 = obj.countUnexpiredTokens(currentTime);\n */","compare_result":"1111111111111111111111111111111111111111111111111111111111101111111111111111111111111111101","title_slug":"design-authentication-manager","has_notes":false,"flag_type":1}