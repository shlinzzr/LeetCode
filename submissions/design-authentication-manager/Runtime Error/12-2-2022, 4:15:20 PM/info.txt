{"id":853300112,"question_id":1905,"lang":"java","lang_name":"Java","time":"1 year, 6 months","timestamp":1669968920,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/853300112/","is_pending":"Not Pending","title":"Design Authentication Manager","memory":"N/A","code":"class AuthenticationManager {\n\n    int timeToLive;\n    HashMap<String, Integer> map; // tokenid, currTime\n    \n    \n    public AuthenticationManager(int timeToLive) {\n        this.timeToLive = timeToLive;\n        this.map = new  HashMap<String, Integer>();\n    }\n    \n    public void generate(String tokenId, int currentTime) {\n        map.put(tokenId, currentTime);\n    }\n    \n    public void renew(String tokenId, int currentTime) {\n        \n        if(map.containsKey(tokenId)){\n            int lastTime = map.get(tokenId);\n            if(currentTime-lastTime<timeToLive){\n                map.put(tokenId, currentTime);\n            }else{\n                map.remove(tokenId);\n            }    \n        }\n        \n        \n        \n    }\n    \n    public int countUnexpiredTokens(int currentTime) {\n        \n        for(Map.Entry<String, Integer> en : map.entrySet()){\n            if(currentTime - en.getValue() >= timeToLive ){\n                map.remove(en.getKey());\n            }\n        }\n        \n        return map.size();\n    }\n}\n\n/**\n * Your AuthenticationManager object will be instantiated and called as such:\n * AuthenticationManager obj = new AuthenticationManager(timeToLive);\n * obj.generate(tokenId,currentTime);\n * obj.renew(tokenId,currentTime);\n * int param_3 = obj.countUnexpiredTokens(currentTime);\n */","compare_result":"111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"design-authentication-manager","has_notes":false,"flag_type":1}