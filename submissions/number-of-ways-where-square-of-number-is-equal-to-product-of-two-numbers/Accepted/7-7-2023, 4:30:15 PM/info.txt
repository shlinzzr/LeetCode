{"id":988431904,"question_id":1699,"lang":"java","lang_name":"Java","time":"11 months, 1 week","timestamp":1688718615,"status":10,"status_display":"Accepted","runtime":"30 ms","url":"/submissions/detail/988431904/","is_pending":"Not Pending","title":"Number of Ways Where Square of Number Is Equal to Product of Two Numbers","memory":"42 MB","code":"class Solution {\n    public int numTriplets(int[] nums1, int[] nums2) {\n        \n        int M = (int) 1e9+7;\n        \n        Arrays.sort(nums1);\n        Arrays.sort(nums2);\n        TreeMap<Integer, Long> map1 = new TreeMap<>(); \n        TreeMap<Integer, Long> map2 = new TreeMap<>(); \n        \n        for(int i=0; i<nums1.length; i++){\n            map1.put(nums1[i], map1.getOrDefault(nums1[i], 0L)+1L);\n        }\n        \n        for(int j=0; j<nums2.length; j++){\n            map2.put(nums2[j], map2.getOrDefault(nums2[j], 0L)+1);\n        }\n        \n        List<Integer> list1 = new ArrayList<>(map1.keySet());\n        List<Integer> list2 = new ArrayList<>(map2.keySet());\n        \n        long res = 0L;\n        // type1\n        for(int i=0; i<list1.size(); i++){\n            \n            int j=0, k=list2.size()-1;\n            \n            while(j<=k){\n                \n                long tar = list1.get(i)*list1.get(i);\n                long val = list2.get(j)*list2.get(k);\n                \n                if(val==tar){\n                    \n                    if(list2.get(j)==list2.get(k)){\n                        long cnt = map2.get( list2.get(j) );\n                        \n                        \n                        res = (res + map1.get(list1.get(i)) * (cnt) * (cnt-1)/2)%M;\n                    }else{\n                        res = (res + map1.get(list1.get(i)) * map2.get( list2.get(j)) * map2.get(list2.get(k)) ) %M;\n                    }\n                    j++;\n                    k--;\n                    \n                    \n                }else if(val<tar){\n                    j++;\n                }else{\n                    k--;\n                }\n            }\n        }\n        \n      \n        \n          // type2\n        for(int i=0; i<list2.size(); i++){\n            \n            int j=0, k=list1.size()-1;\n            \n            while(j<=k){\n                \n                long tar = (long)list2.get(i)*(long)list2.get(i);\n                long val = (long)list1.get(j)*(long)list1.get(k);\n                \n                if(val==tar){\n                    \n                    if(list1.get(j)==list1.get(k)){\n                        long cnt = map1.get( list1.get(j) );\n                        \n                         res = (res + map2.get( list2.get(i))%M * (cnt)%M * (cnt-1)/2%M ) %M;\n                    }else{\n                        res = ( res + map2.get(list2.get(i))%M * map1.get( list1.get(j))%M * map1.get(list1.get(k)) ) % M;\n                    }\n                    j++;\n                    k--;\n                    \n                    \n                }else if(val<tar){\n                    j++;\n                }else{\n                    k--;\n                }\n            }\n        }\n        \n        return (int)res;\n        \n        \n        \n    }\n}","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-ways-where-square-of-number-is-equal-to-product-of-two-numbers","has_notes":false,"flag_type":1}