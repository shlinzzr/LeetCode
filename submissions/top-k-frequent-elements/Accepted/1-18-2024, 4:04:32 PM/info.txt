{"id":1149570631,"question_id":347,"lang":"java","lang_name":"Java","time":"4 months, 3 weeks","timestamp":1705565072,"status":10,"status_display":"Accepted","runtime":"34 ms","url":"/submissions/detail/1149570631/","is_pending":"Not Pending","title":"Top K Frequent Elements","memory":"48.9 MB","code":"class Solution {\n\n    Map<Integer, Integer> fmap ;\n    public int[] topKFrequent(int[] nums, int k) {\n        \n        fmap = getFreqMap(nums);\n\n        int[] unique = new int[fmap.size()];\n\n        int i=0;\n        for(int key: fmap.keySet()){\n            unique[i++] = key;\n        }\n\n        for(int u : unique){\n            System.out.print(u + \":\"+ fmap.get(u)+ \" ,\");\n        }\n        System.out.println();\n\n        int n = unique.length;\n        quickSelect(unique, 0, n-1, n-k);\n        return Arrays.copyOfRange(unique, n - k, n);\n    }\n\n    private void quickSelect(int[] nums, int left, int right, int k_smallest){\n\n        if(left>=right) return;\n\n        int pivotIdx = partition(nums, left, right-1, right);\n        swap(nums, pivotIdx, right);\n\n        // System.out.println(\"\\nquickselect pivotVal=\"+pivotVal + \" freq=\"+fmap.get(pivotVal) + \" privotIdx=\"+pivotIdx + \" k_smallest=\"+k_smallest);\n\n        // for(int u : nums){\n        //     System.out.print(u + \":\"+ fmap.get(u)+ \" ,\");\n        // }\n        // System.out.println();\n        // swap(nums, pivotIdx, right);\n\n        \n        // for(int u : nums){\n        //     System.out.print(u + \" ,\");\n        // }\n        // System.out.println();\n\n        if(k_smallest==pivotIdx)\n            return;\n        else if(k_smallest<pivotIdx){ \n            quickSelect(nums, left, pivotIdx-1, k_smallest);\n        }else{\n            quickSelect(nums, pivotIdx+1, right, k_smallest);\n        }\n        \n        \n\n    }\n    /*\n\n\n    -1:2 ,1:1 ,-3:1 ,2:2 ,3:4 ,5:1 ,7:3 ,-9:1 ,9:2 ,10:3 ,\n\nquickselect pivotVal=4 freq=null privotIdx=9k_smallest=7\n-1:2 ,1:1 ,-3:1 ,2:2 ,3:4 ,5:1 ,7:3 ,-9:1 ,9:2 ,10:3 ,\n\nquickselect pivotVal=4 freq=null privotIdx=8k_smallest=7\n-1:2 ,1:1 ,-3:1 ,2:2 ,3:4 ,5:1 ,7:3 ,-9:1 ,9:2 ,10:3 ,\n\nquickselect pivotVal=2 freq=2 privotIdx=6k_smallest=7\n-1:2 ,1:1 ,-3:1 ,2:2 ,-9:1 ,5:1 ,7:3 ,3:4 ,9:2 ,10:3 ,\n\n\n*/\n\n    private int partition(int[] nums, int left, int right, int p){ \n\n\n         while(left <= right) {\n\n            if(fmap.get(nums[left]) > fmap.get(nums[p])) {\n                swap(nums, left, right);\n                right--;\n            } else {\n                left++;\n            }\n\n        }\n\n        return left;\n    }\n\n    public void swap(int[] nums, int a, int b) {\n        int tmp = nums[a];\n        nums[a] = nums[b];\n        nums[b] = tmp;\n    } \n\n\n\n    private Map<Integer, Integer> getFreqMap(int[] nums){\n\n        Map<Integer, Integer> fmap = new HashMap<>();\n        for(int n : nums){\n            fmap.put(n, fmap.getOrDefault(n, 0)+1);\n        }\n        return fmap;\n    }\n}","compare_result":"111111111111111111111","title_slug":"top-k-frequent-elements","has_notes":false,"flag_type":1}