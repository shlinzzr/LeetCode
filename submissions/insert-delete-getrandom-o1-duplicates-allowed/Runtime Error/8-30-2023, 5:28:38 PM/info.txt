{"id":1035829410,"question_id":381,"lang":"java","lang_name":"Java","time":"9 months, 2 weeks","timestamp":1693387718,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/1035829410/","is_pending":"Not Pending","title":"Insert Delete GetRandom O(1) - Duplicates allowed","memory":"N/A","code":"class RandomizedCollection {\n\n    HashMap<Integer, List<Integer>> map; // val, list<idx>\n    List<Integer> list;\n    \n    public RandomizedCollection() {\n        map = new HashMap<>();\n        list = new ArrayList<>();\n    }\n    \n    public boolean insert(int val) {\n        \n        if(map.containsKey(val))\n            return false;\n        \n        map.putIfAbsent(val, new ArrayList<>());\n        map.get(val).add(list.size());\n        list.add(val);\n        return true;\n    }\n    \n    public boolean remove(int val) {\n        if(!map.containsKey(val))\n            return false;\n        \n        int idx = map.get(val).get(0);\n        int last = list.get(list.size()-1);\n        map.get(last).remove(map.get(last).size()-1);\n        map.get(last).add(idx);\n        \n        list.remove(list.size()-1);\n        if(map.get(val).size()==1){\n            map.remove(val);\n        }else{\n            map.get(val).remove(0);\n        }\n        return true;\n        \n    }\n    \n    public int getRandom() {\n        \n        int idx = (int) (Math.random() * list.size());\n        return list.get(idx);\n        \n        \n    }\n}\n\n/**\n * Your RandomizedCollection object will be instantiated and called as such:\n * RandomizedCollection obj = new RandomizedCollection();\n * boolean param_1 = obj.insert(val);\n * boolean param_2 = obj.remove(val);\n * int param_3 = obj.getRandom();\n */","compare_result":"10000000000000000000000000000000","title_slug":"insert-delete-getrandom-o1-duplicates-allowed","has_notes":false,"flag_type":1}