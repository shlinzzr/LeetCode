{"id":901411565,"question_id":1176,"lang":"java","lang_name":"Java","time":"1 year, 3 months","timestamp":1676878107,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/901411565/","is_pending":"Not Pending","title":"Design A Leaderboard","memory":"N/A","code":"class Leaderboard {\n\n    HashMap<Integer, Integer> map ; //id, score\n    TreeMap<Integer, Set<Integer>> tmap; // score, cnt\n    \n    public Leaderboard() {\n        map = new HashMap<>();\n        tmap = new TreeMap<>( Collections.reverseOrder());\n        \n    }\n    \n    public void addScore(int playerId, int score) {\n        reset(playerId);\n        \n        map.put(playerId, score);\n        \n        Set<Integer> pset = tmap.getOrDefault(score, new HashSet<>());\n        pset.add(playerId);\n        tmap.put(score, pset);\n        \n    }\n    \n    public int top(int K) {\n        \n        int res = 0;\n        int cnt =0;\n        for(Map.Entry<Integer, Set<Integer>> en : tmap.entrySet()){\n            \n            int score = en.getKey();\n            int size = en.getValue().size();\n            \n            for(int i=0; i<size && cnt<K; cnt++){\n                res+=en.getKey();\n                i++;\n            }\n            \n            // res+= en.getKey()* en.getValue().size();    \n        }\n        return res;\n    }\n    \n    public void reset(int playerId) {\n        \n        int orgscore =-1;\n        if(map.containsKey(playerId))\n            orgscore = map.get(playerId);\n        \n        map.remove(playerId);\n        \n       if(orgscore!=-1 && tmap.containsKey(orgscore)){\n            tmap.get(orgscore).remove(playerId);\n            if(tmap.get(orgscore).size()==0)\n                tmap.remove(orgscore);\n        }\n    }\n}\n\n/**\n * Your Leaderboard object will be instantiated and called as such:\n * Leaderboard obj = new Leaderboard();\n * obj.addScore(playerId,score);\n * int param_2 = obj.top(K);\n * obj.reset(playerId);\n */","compare_result":"111000000000000000","title_slug":"design-a-leaderboard","has_notes":false,"flag_type":1}