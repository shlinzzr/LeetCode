{"id":981499786,"question_id":1351,"lang":"java","lang_name":"Java","time":"11 months, 2 weeks","timestamp":1687944744,"status":10,"status_display":"Accepted","runtime":"354 ms","url":"/submissions/detail/981499786/","is_pending":"Not Pending","title":"Replace the Substring for Balanced String","memory":"44.7 MB","code":"class Solution {\n    \n    HashMap<Character, Integer> map = new HashMap<>();\n    \n    public int balancedString(String s) {\n        // solution 1 binarySearch\n        \n        //  Q Q  [ W E R ] W E R 外面的字母數量如果比滑窗裡面的少,滑窗內可以補  \n        //                       但如果比滑窗內的還大,那這個滑窗就沒救了 一定要擴大\n        \n        int len = s.length();\n        \n        for(char ch : s.toCharArray()){\n            map.put(ch, map.getOrDefault(ch, 0)+1);\n        }\n        \n        boolean flag = true;\n        for(Map.Entry<Character, Integer> en : map.entrySet()){\n            if(en.getValue()!=len/4)\n                flag=false;\n        }\n        if(flag)\n            return 0;\n        \n        int left = 1, right=len;\n        while(left<right){\n            \n            int mid = left + (right-left)/2;\n            \n            if(isOK(mid, s)){\n                right = mid;\n            }else\n                left = mid+1;\n        }\n        return left;\n    }\n    \n    \n    private boolean isOK(int k, String s){\n        \n        int len = s.length();\n        HashMap<Character, Integer> curr = new HashMap<>();\n        \n        for(int i=0; i<len; i++){\n            \n            char ch = s.charAt(i);\n            curr.put(ch, curr.getOrDefault(ch, 0)+1);\n            if(i>=k){\n                curr.put(s.charAt(i-k), curr.getOrDefault(s.charAt(i-k), 0)-1);\n            }\n            \n            \n            boolean ok = true;\n            for(char chh : map.keySet()){\n                if(map.get(chh) - curr.getOrDefault(chh,0)>len/4){\n                    ok = false;\n                    break;\n                }\n            }\n            if(ok)\n                return true;\n        }\n        \n        return false;\n        \n        \n    }\n}","compare_result":"1111111111111111111111111111111111111111","title_slug":"replace-the-substring-for-balanced-string","has_notes":false,"flag_type":1}