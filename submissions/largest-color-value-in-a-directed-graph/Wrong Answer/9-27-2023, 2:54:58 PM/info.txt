{"id":1060317603,"question_id":1986,"lang":"java","lang_name":"Java","time":"8 months, 2 weeks","timestamp":1695797698,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1060317603/","is_pending":"Not Pending","title":"Largest Color Value in a Directed Graph","memory":"N/A","code":"class Solution {\r\n    List<List<Integer>> g;\r\n    boolean visited[];\r\n    int[] inDegree;\r\n    int counts[][];\r\n\r\n    public int largestPathValue(String colors, int[][] edges)  {\r\n        int ans = 1;\r\n        int len = colors.length();\r\n        inDegree = new int[len];\r\n        g = new ArrayList<>();\r\n        for(int i=0; i<len; i++){\r\n            g.add(new ArrayList<>());\r\n        }\r\n\r\n        for (int[] edge: edges){\r\n            int src = edge[0];\r\n            int dst = edge[1];\r\n            g.get(src).add(dst);\r\n            inDegree[dst]++;\r\n        }\r\n        \r\n        Set<Character> set = new HashSet<>();\r\n        for (char ch='a'; ch<='z'; ch++)\r\n        {\r\n            if(!set.contains(ch)) continue;\r\n            int t = helper(ch-'a', colors, edges);\r\n            if(t==-1) return -1;\r\n            ans = Math.max(ans, t);\r\n        }\r\n        return ans;        \r\n    }\r\n\r\n    private int helper(int k, String colors, int[][] edges) {\r\n\r\n        int len = colors.length();\r\n        int[] count = new int[len];\r\n        int[] in = new int[len];\r\n\r\n        for (int i=0; i<len; i++)\r\n            in[i] = inDegree[i];\r\n        \r\n        int nodes = 0;\r\n        Queue<Integer> q = new LinkedList<>();\r\n\r\n        for (int i=0; i<len; i++)\r\n        {\r\n            if (in[i]==0)\r\n            {\r\n                nodes++;\r\n                if (colors.charAt(i)-'a'==k) count[i]++;\r\n                q.offer(i);\r\n            }\r\n        }\r\n        \r\n        int ret = 0;\r\n        while (!q.isEmpty())\r\n        {\r\n            int cur = q.poll();\r\n            \r\n            for (int p: g.get(cur))\r\n            {\r\n                count[p] = Math.max(count[p], count[cur]+ (colors.charAt(p)-'a'==k ? 1 : 0));                \r\n                ret = Math.max(ret, count[p]);                \r\n                in[p]--;\r\n                if (in[p]==0)\r\n                {                    \r\n                    nodes++;\r\n                    q.offer(p);                 \r\n                }\r\n            }            \r\n        }\r\n        \r\n        if (nodes!=len) return -1;\r\n        return ret;\r\n    }\r\n}","compare_result":"00000000000000000000000000000000101000000000000000000000000000000000000000000000100","title_slug":"largest-color-value-in-a-directed-graph","has_notes":false,"flag_type":1}