{"id":1116171251,"question_id":3213,"lang":"java","lang_name":"Java","time":"6Â months","timestamp":1702179041,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1116171251/","is_pending":"Not Pending","title":"Count Subarrays Where Max Element Appears at Least K Times","memory":"N/A","code":"class Solution {\n    public long countSubarrays(int[] nums, int k) {\n        \n        TreeMap<Integer, Integer> map = new TreeMap<>();// nums[i], freq\n        \n        TreeMap<Integer, Set<Integer>> fmap = new TreeMap<>(); // freq , Set<nums[i]>\n        \n        int len = nums.length;\n        \n        int res = 0;\n        int ed =0;\n       \n        for(int st=0; st<len;st++){\n            \n            \n            while(ed==0 || (ed<len && map.get(map.lastKey())<k)){\n                \n                map.put(nums[ed], map.getOrDefault(nums[ed],0)+1);\n                int f = map.get(nums[ed]);\n                fmap.putIfAbsent(f, new HashSet<>());\n                fmap.get(f).add(nums[ed]);\n                \n                ed++;\n                \n            }\n            // System.out.println(st + \" \"+ed + \" res=\"+fmap.lastKey());\n//             \n            \n            //= [1,3,2,3,3], k = 2\n                  // ed\n            \n            if(fmap.lastKey()>=k)\n                res+=len-ed+1;\n            \n             // System.out.println(st + \" \"+(ed-1) + \" res=\"+res);\n//            \n            \n            int f = map.get(nums[st]);\n            fmap.get(f).remove(nums[st]);\n            if(fmap.get(f).size()==0)\n                fmap.remove(f);\n                                    \n            map.put(nums[st], map.getOrDefault(nums[st],0)-1);\n           \n            \n          \n        }\n        \n        return res;\n            \n    }\n}","compare_result":"111101111101010111111111011101111001111111111111111111000111110011111101111011110111111010100110101111110111111101111101111111010001111110011111111110101101011011011110111100111110011011011100101111111111011101111111111101101111010011010011110110111111011110111110111110111111111111110011011101110111110110111111101111011111011111110011111110101111111111111011101011011110011111111111011001111111101110111100110111111111011110100100101101111110101011100111111011111111111111000110110011111111110110011111111100111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110010000","title_slug":"count-subarrays-where-max-element-appears-at-least-k-times","has_notes":false,"flag_type":1}