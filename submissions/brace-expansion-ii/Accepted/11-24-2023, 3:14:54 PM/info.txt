{"id":1105315494,"question_id":1188,"lang":"java","lang_name":"Java","time":"6 months, 3 weeks","timestamp":1700810094,"status":10,"status_display":"Accepted","runtime":"34 ms","url":"/submissions/detail/1105315494/","is_pending":"Not Pending","title":"Brace Expansion II","memory":"44.1 MB","code":"class Solution {\n    public List<String> braceExpansionII(String expression) {\n        // Updated on 20 June 2021\n        int n = expression.length();\n        int count = 0;\n        \n        for (int i = 0; i < n; i++) {\n            if (expression.charAt(i) == '{') {\n                count++;\n            } else if (expression.charAt(i) == '}') {\n                count--;\n                if (count == 0 && i != n - 1) {\n                    expression = \"{\" + expression + \"}\";\n                    break;\n                }\n            }\n        }\n\n        // the following code is the same in the video\n        // new test case: \"{a,b},x{c,{d,e}y}\"\n        Set<String> res = new HashSet<>();\n        Deque<String> q = new ArrayDeque<>();\n        q.offer(expression);\n        \n        while (!q.isEmpty()) {\n            String cur = q.poll();\n            if (cur.indexOf(\"{\") == -1) {\n                res.add(cur);\n                continue;\n            }\n            \n            int left = cur.indexOf(\"{\");\n            int index = left;\n            while (index < cur.length() && cur.charAt(index) != '}') {\n                if (cur.charAt(index) == '{') {\n                    left = index;\n                }\n                index++;\n            }\n            int right = index;\n            \n            // left = { 0, right = 4 }\n            // a, b\n            String processed = cur.substring(0, left);\n            String[] processing = cur.substring(left + 1, right).split(\",\");\n            String unprocessed = cur.substring(right + 1);\n            \n            for (String part : processing) {\n                StringBuilder sb = new StringBuilder(processed);\n                sb.append(part).append(unprocessed);\n                q.offer(sb.toString());\n            }\n        }\n        \n        List<String> resList = new ArrayList<>(res);\n        Collections.sort(resList);\n        return resList;\n    }\n}","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"brace-expansion-ii","has_notes":false,"flag_type":1}