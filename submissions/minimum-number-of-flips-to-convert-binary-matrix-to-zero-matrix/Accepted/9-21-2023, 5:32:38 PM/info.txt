{"id":1055294721,"question_id":1409,"lang":"java","lang_name":"Java","time":"8 months, 3 weeks","timestamp":1695288758,"status":10,"status_display":"Accepted","runtime":"5 ms","url":"/submissions/detail/1055294721/","is_pending":"Not Pending","title":"Minimum Number of Flips to Convert Binary Matrix to Zero Matrix","memory":"39.8 MB","code":"class Solution {\n    public int minFlips(int[][] mat) {\n\n        int state = 0;\n        int h = mat.length;\n        int w = mat[0].length;\n\n        for (int i = 0; i < h; ++i)\n            for (int j = 0; j < w; ++j)\n                state |= mat[i][j] << (i * w + j); // convert the matrix to an int. \n\n        /*\n        [1, 0]\n        [0, 1] => 1001\n         */\n\n        int[][] dirs = {{1,0}, {0,1},{-1,0},{0,-1},{0,0}};\n\n        Queue<Integer> q = new LinkedList<>(Arrays.asList(state));\n        Set<Integer> seen = new HashSet<>(q);\n\n        for (int step = 0; !q.isEmpty(); step++) {\n            \n            int size = q.size();\n            while(size-->0){\n                state = q.poll();\n                if (state == 0) // All 0s matrix found.\n                    return step;\n\n                for (int i = 0; i < h; i++) { // traverse all m * n bits of cur.\n                    for (int j = 0; j < w; j++) {\n                        int next = state;\n                        for(int[] d: dirs){\n                            int r = i + d[0];\n                            int c = j + d[1];\n                            if (r >= 0 && r < h && c >= 0 && c < w)\n                                next ^= 1 << (r * w + c);\n                        }\n                        if (seen.add(next)) // seen it before ?\n                            q.offer(next); // no, put it into the Queue.\n                    }\n                }    \n            }\n        }\n        return -1; // impossible to get all 0s matrix.\n    }\n}","compare_result":"11111111111111111111111111","title_slug":"minimum-number-of-flips-to-convert-binary-matrix-to-zero-matrix","has_notes":false,"flag_type":1}