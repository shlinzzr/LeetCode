{"id":1042917305,"question_id":715,"lang":"java","lang_name":"Java","time":"9 months, 1 week","timestamp":1694081005,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1042917305/","is_pending":"Not Pending","title":"Range Module","memory":"N/A","code":"class RangeModule {\n\n    TreeMap<Integer, Integer> map;\n    \n    public RangeModule() {\n        map = new TreeMap<>();\n        \n    }\n    \n    public void addRange(int left, int right) {\n        map.put(left, right);\n        \n    }\n    \n    public boolean queryRange(int left, int right) {\n        \n        Integer floorKey = map.floorKey(left);\n        Integer ceilingKey = map.ceilingKey(left);\n        \n        while(floorKey!=null){\n            \n            if(map.get(floorKey)>=right || (ceilingKey!=null && map.get(floorKey)>=ceilingKey)){\n                return true;\n            }\n            \n            floorKey = map.lowerKey(floorKey);\n        }\n        \n        \n        System.out.println(left + \" \" + right + \" \" + floorKey + \" \" + ceilingKey);\n        \n        while(ceilingKey!=null && ceilingKey<right){\n            \n            if(ceilingKey<right)\n                return true;\n            \n            ceilingKey = map.higherKey(ceilingKey);\n        }\n        \n        \n        \n        return false;\n    }\n    \n    public void removeRange(int left, int right) {\n        \n        Integer floorKey = map.floorKey(left);\n        Integer ceilingKey = map.ceilingKey(left);\n            \n        // System.out.println(\"revmove \" + left + \" \" + right + \" \" + floorKey + \" \" + ceilingKey);\n       \n        \n        while(floorKey!=null){\n            \n            int val = map.get(floorKey);\n            \n            if(val<left)\n                continue;\n            \n            map.put(floorKey, left);\n            if(val>right)\n                map.put(right, val);\n            \n            floorKey = map.lowerKey(floorKey);\n        }\n        \n        \n        while(ceilingKey!=null && ceilingKey<right){\n            int val = map.get(ceilingKey);\n            if(val<right){\n                map.remove(ceilingKey);\n                continue;\n            }\n                \n            map.put(right, val);\n            ceilingKey = map.higherKey(ceilingKey);\n        }\n        \n        \n        // for(Map.Entry<Integer, Integer> en : map.entrySet()){\n        //     System.out.println(en.getKey() + \" \" + en.getValue());\n        // }\n        \n    }\n}\n\n/**\n * Your RangeModule object will be instantiated and called as such:\n * RangeModule obj = new RangeModule();\n * obj.addRange(left,right);\n * boolean param_2 = obj.queryRange(left,right);\n * obj.removeRange(left,right);\n */","compare_result":"101100000000000000000000000000000000000000000000000000","title_slug":"range-module","has_notes":false,"flag_type":1}