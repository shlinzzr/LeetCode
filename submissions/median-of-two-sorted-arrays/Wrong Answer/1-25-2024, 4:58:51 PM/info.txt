{"id":1156336106,"question_id":4,"lang":"java","lang_name":"Java","time":"4 months, 2 weeks","timestamp":1706173131,"status":11,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/1156336106/","is_pending":"Not Pending","title":"Median of Two Sorted Arrays","memory":"N/A","code":"class Solution {\n\n/*\nApproach 1: MergeSort : O((n + m) * log(n + m)); => copy and find mid\nApproach 2: Two-Pointer Method  O(n + m), \nApproach 3: Binary Search O(logm/logn)\n*/\n\n    public double findMedianSortedArrays(int[] A, int[] B) {\n        \n        int alen=A.length;\n        int blen=B.length;\n\n        if(alen+blen==0) \n            return 0;\n        \n        int[] arr = new int[alen+blen];\n        System.arraycopy(A, 0, arr, 0, alen);\n        System.arraycopy(B, 0, arr, alen, blen);\n        int len = alen+blen;\n        quickselect(arr, 0, len-1, 5);\n      \n\n        \n        if(len%2==0) return (Double.valueOf(arr[len/2]) + Double.valueOf(arr[len/2-1]))/2;\n        \n        \n        \n        \n        return Double.valueOf(arr[len/2]);\n    }\n    \n    private void quickselect(int[] arr, int st, int ed, int k){\n\nSystem.out.println(\"quickselect st=\"+st + \" ed=\"+ed);\n        \n        if(st>=ed) return;\n        \n        int pivotIdx = partition(arr, st, ed-1, ed);\n        swap(arr, pivotIdx, ed);\n        \n        for(int a :arr){\n            System.out.print(a + \" ,\");\n        }\n\n           System.out.println(\"pivotIdx=\"+pivotIdx);\n\n        if(k==pivotIdx){\n            return;\n        }else if(k<pivotIdx){\n            quickselect(arr, st, pivotIdx-1, k);\n        }else{\n            quickselect(arr, pivotIdx+1, ed, k);\n        }\n    }\n    \n    private int partition(int[] arr, int st, int ed, int p){\n        \n        while(st<=ed){\n            \n            if(arr[st]>arr[p]){\n                swap(arr, st, ed);\n                ed--;\n            }else\n                st++;\n        }\n        \n        return st;\n    }\n    \n    private void swap(int[] arr, int a, int b){\n        int t = arr[a];\n        arr[a] = arr[b];\n        arr[b] = t;\n    }\n}\n    \n    \n    \n//     public double findMedianSortedArrays(int[] A, int[] B) {\n        \n//         int alen=A.length;\n//         int blen=B.length;\n\n//         if(alen+blen==0) \n//             return 0;\n//         //because of idx2=half-idx1,  we want len1 < len2\n//         if(alen>blen) \n//             return findMedianSortedArrays(B, A);\n\n//         int len = alen + blen;\n//         int half = len/2;\n\n//         //想法: 針對amid 做binarySearch, bmid = half-amid\n//         // and find acurr < bnext && bcurr<anext\n//         // else : \n//         int left=0, right=alen-1;\n       \n//         while(true){\n//             int amid = right-(right-left)/2; // a拿了 amid+1個\n//             int bmid = half-(amid+1)-1; // b 要拿 half-(amid+1)個, 轉成idx變成 half-(amid+1)-1\n\n//             int acurr = (amid>=0)     ? A[amid]   : Integer.MIN_VALUE; // if not legal, use bcurr\n//             int anext = (amid+1<alen) ? A[amid+1] : Integer.MAX_VALUE; // if not legal, use bnext\n//             int bcurr = (bmid>=0)     ? B[bmid]   : Integer.MIN_VALUE; // if not legal, use acurr\n//             int bnext = (bmid+1<blen) ? B[bmid+1] : Integer.MAX_VALUE; // if not legal, use anext\n\n//             if(acurr<=bnext && bcurr<= anext){ // found what we want\n                \n//                 if(len%2==0)\n//                     return ((double)Math.max(acurr, bcurr) + (double)Math.min(anext, bnext))/2;\n//                 else\n//                     return (double) Math.min(anext, bnext); //median is smaller one  \n                \n//             }else{\n//                  // means \"bcurr>anext\" or \"acurr>bnext\"\n//                 if(bcurr>anext) // 表示a太小, left=amid+1\n//                     left = amid+1; \n//                 else if(acurr>bnext) // 表示a太大, right=amid-1\n//                     right = amid-1;\n//             }\n//         }\n\n//     }\n// }","compare_result":"111111111111111111111110111111100001111111111111101111101010111001111101010110010000010000010011101101010101110000000000000000010100010001110101010000000000001111110101010111110100000011010000010100000101000111010111010000010100000000010110000001000000000101100000000101100000000100111111110101010101111101000001011101000001010100000101010101011101110111011101000001010100000101000001011001100110010100000001000001011001100110010000010110011001100111011101110111110101111110000101010000010101010101011000000101010101010110010100010001100111111111011101110111111101100011011111011001110111011001110101100111011101110111111101111111110110011101110110011101011001110110011101101110011011110110011101011001110110011101111110011111011001100110001101111110011111000101011111100111111111110111111111110111011001110101100111011001100111111001111101100111011001110111111001111100010101111110011111111110011111101010000110011101100011011111100111110000010111111001111111111001111110111001100111011101100111011001100110011011100111011001110110111001111111011111111111011101110111111111011000110111111101100111011111011001110111011001110111110111011111111111011101110111111101100111011111011001110111011001110011100111011110111110011100110111110110011101110110011101111001110111111111100111011101110110011000111000110111111111100111011101110001010101111111100111011101111111111101110111011111111111111101111111110110011100110110011100111001110111111111100111011101110110011100111001110111111111100111011101110001010101111111100111011101111110111001110111011111101010111000111011011001100011100010011111111110011101110111000000010111111110011101110111111111100111011101111110111011100111111110011001111101110000110101001110011100011100010111111011101110011111111101110001110101011111101110111001111111111111111111011111111111111101111111101011111010101101011010010001111101010111111101111010111110101011111010101111011011011110101011110110100111111011111110000001111010101111101010111111101111111010101111111010111111101111110011110101011011100111111111011111100111111011111100111101100000000000000000000001","title_slug":"median-of-two-sorted-arrays","has_notes":false,"flag_type":1}